<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Archives | realguess</title>
  <meta name="author" content="Chao Huang">
  
  <meta name="description" content="Just a blog about every detail encountered.">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  
  <meta property="og:site_name" content="realguess"/>

  
    <meta property="og:image" content="undefined"/>
  

  <link href="/favicon.png" rel="icon">
  <link rel="alternate" href="/atom.xml" title="realguess" type="application/atom+xml">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-45698182-1']);
  
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>


</head>


<body>
  <header id="header" class="inner"><div class="alignleft">
  <h1><a href="/">realguess</a></h1>
  <h2><a href="/">Don&#39;t afraid to try!</a></h2>
</div>
<nav id="main-nav" class="alignright">
  <ul>
    
      <li><a href="/">Home</a></li>
    
      <li><a href="/archives">Archives</a></li>
    
  </ul>
  <div class="clearfix"></div>
</nav>
<div class="clearfix"></div></header>
  <div id="content" class="inner">
    <div id="main-col" class="alignleft"><div id="wrapper">
<h2 class="archive-title">Archives</h2>


  
    <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2015-11-26T12:00:00.000Z"><a href="/2015/11/26/setting-up-local-dns-server-for-multi-devices/">Nov 26, 2015</a></time>
      
      
  
    <h1 class="title"><a href="/2015/11/26/setting-up-local-dns-server-for-multi-devices/">Setting Up Local DNS Server for Multi-Devices</a></h1>
  

    </header>
    <div class="entry">
      
        <p>As always, the first thing you have to ask yourself is that <em>why do you want to set up a DNS server?</em> Here are a few of mine:</p>
<ul>
<li>Access web services via custom domains instead of IP addresses</li>
<li>Update multiple devices (including mobile devices) is <em>time consuming</em> and <em>inconvenient</em></li>
<li>Router does not provide a DNS server</li>
</ul>
<p>I run many web services in the local network, for example, <a href="https://about.gitlab.com/" target="_blank" rel="external">GitLab</a> for code repository and <a href="https://ghost.org/" target="_blank" rel="external">Ghost</a> for blogging. Instead of typing IP address for each service, it will be much easier to use custom domain names, for example, accessing my blog via <a href="http://ghost/" target="_blank" rel="external">http://ghost/</a>, not dot com nor <em>localhost</em>.</p>
<p>This can be easily done if there is just one machine. You can update the <em>host configuration file</em> in the local machine such as <code>/etc/hosts</code> in Linux or <code>C:\Windows\System32\drivers\etc\hosts</code> in Windows. But I have multiple devices: a laptop, a tablet, and of course a smartphone. Updating multiple devices is a pain. And for many mobile devices running systems such as iOS or Android, it is not easy to edit the host configuration file without rooting the devices. Therefore, we will opt to update a single DNS configuration file.</p>
<p>DNS configuration can be inherited from the DHCP server from the local network router. Unfortunately, the router I have does not provide a built-in DNS server. I have to setup my own DNS server. Once the DNS server has been setup, the router will use the server as the primary DNS server, and falls back to default gateway IP as the secondary DNS server, or we can use either Google’s public DNS server with IP address <code>8.8.8.8</code> or any other alternatives.</p>
<ul>
<li>Primary DNS server: <code>192.168.0.100</code></li>
<li>Secondary DNS server: <code>192.168.0.1</code>, <code>8.8.8.8</code> or others</li>
</ul>
<p>I am going to setup a DNS server in a <a href="https://www.debian.org/releases/jessie/" target="_blank" rel="external">Debian Jessie</a> machine. Here is a summary of steps:</p>
<ol>
<li>Install BIND</li>
<li>Add custom zone</li>
</ol>

      
    </div>
    <footer>
      
        
          <div class="alignleft">
            <a href="/2015/11/26/setting-up-local-dns-server-for-multi-devices/#more" class="more-link">Read More</a>
          </div>
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2015-10-11T12:00:00.000Z"><a href="/2015/10/11/keeping-routing-simple-and-separated-with-koa-router/">Oct 11, 2015</a></time>
      
      
  
    <h1 class="title"><a href="/2015/10/11/keeping-routing-simple-and-separated-with-koa-router/">Keeping Routing Simple and Separated with Koa Router</a></h1>
  

    </header>
    <div class="entry">
      
        <p>Debugging an error when using <a href="https://github.com/alexmingoia/koa-router" target="_blank" rel="external">koa-router</a> module that multiple routes were invoked on a single HTTP request:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> app = <span class="built_in">require</span>(<span class="string">'koa'</span>)();</div><div class="line"><span class="keyword">var</span> router = <span class="built_in">require</span>(<span class="string">'koa-router'</span>)();</div><div class="line"></div><div class="line">router.use(<span class="function"><span class="keyword">function</span> *<span class="params">(next)</span> </span>{</div><div class="line">  <span class="keyword">this</span>.body = {};</div><div class="line">  <span class="keyword">yield</span> next;</div><div class="line">});</div><div class="line"></div><div class="line">router.get(<span class="string">'/users'</span>, <span class="function"><span class="keyword">function</span> *<span class="params">(next)</span> </span>{</div><div class="line">  <span class="keyword">this</span>.body[<span class="string">'/users'</span>] = <span class="literal">true</span>;</div><div class="line">  <span class="keyword">yield</span> next;</div><div class="line">});</div><div class="line"></div><div class="line">router.get(<span class="string">'/users/:id?'</span>, <span class="function"><span class="keyword">function</span> *<span class="params">(next)</span> </span>{</div><div class="line">  <span class="keyword">this</span>.body[<span class="string">'/users/:id?'</span>] = <span class="literal">true</span>;</div><div class="line">  <span class="keyword">yield</span> next;</div><div class="line">});</div><div class="line"></div><div class="line">app.use(router.routes());</div><div class="line">app.listen(<span class="number">3000</span>);</div></pre></td></tr></table></figure>

<p>When making a request to get a list of users, it will match both routes:</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">$ http :<span class="number">3000</span>/users</div><div class="line">HTTP/<span class="number">1.1</span> <span class="number">200</span> OK</div><div class="line">Connection: keep-alive</div><div class="line">Content-Length: <span class="number">34</span></div><div class="line">Content-Type: application/json; charset=utf-<span class="number">8</span></div><div class="line"></div><div class="line">{</div><div class="line">    <span class="string">"/users"</span>: <span class="literal">true</span>,</div><div class="line">    <span class="string">"/users/:id?"</span>: <span class="literal">true</span></div><div class="line">}</div></pre></td></tr></table></figure>

<p>Because in the second route <code>:id</code> is optional, and since there is <code>yield next</code> statement in the first route, the second route will be executed subsequently.</p>
<p>The cause of the bug is the design of the routing <code>GET /users/:id?</code>. The correct routes are:</p>
<ul>
<li><code>GET /users</code>: Retrieve a list (array) of users.</li>
<li><code>GET /users/:id</code>: Retrieve a single user object.</li>
</ul>
<p>The question mark should not be appended to the end of <code>id</code> parameter, which effectively marking the route to perform both duties. It’s better to <strong>keep them simple and keep them separated</strong>.</p>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2015-10-11T12:00:00.000Z"><a href="/2015/10/11/passing-information-through-koa-middleware-via-this-state/">Oct 11, 2015</a></time>
      
      
  
    <h1 class="title"><a href="/2015/10/11/passing-information-through-koa-middleware-via-this-state/">Passing Information Through Koa Middleware Via &quot;this.state&quot;</a></h1>
  

    </header>
    <div class="entry">
      
        <p><a href="http://koajs.com/" target="_blank" rel="external">Koa</a> has a <a href="http://koajs.com/#context" target="_blank" rel="external">context</a> object created during every request/response cycle. The context is referenced via <code>this</code> in the middleware. Much information are captured in the context, such as <code>req</code> and <code>res</code>. In order to avoid polluting the context and colliding with other middleware, the information from your application should be encapsulated into <code>this.state</code> property, a namespace for passing information through middleware during request/response cycle:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">require</span>(<span class="string">'koa'</span>)().use(<span class="function"><span class="keyword">function</span> *<span class="params">(next)</span> </span>{</div><div class="line">  <span class="keyword">var</span> state = <span class="keyword">this</span>.state;</div><div class="line"></div><div class="line">  state.user = <span class="keyword">yield</span> users.create(<span class="keyword">this</span>.request.body);</div><div class="line">  state.code = <span class="number">201</span>;</div><div class="line">  state.body = {</div><div class="line">    name: user.name,</div><div class="line">    mail: user.mail</div><div class="line">  };</div><div class="line"></div><div class="line">  <span class="keyword">yield</span> next;</div><div class="line">}).listen(<span class="number">3000</span>);</div></pre></td></tr></table></figure>

<p>The <code>this.state</code> has been initialized into an empty object:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">require</span>(<span class="string">'koa'</span>)().use(<span class="function"><span class="keyword">function</span> *<span class="params">(next)</span> </span>{</div><div class="line">  <span class="keyword">this</span>.body = <span class="keyword">this</span>.state;</div><div class="line">}).listen(<span class="number">3000</span>);</div></pre></td></tr></table></figure>

<p>Therefore, we can start using it right away without doing our own initialization:</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">$ http :<span class="number">3000</span></div><div class="line">HTTP/<span class="number">1.1</span> <span class="number">200</span> OK</div><div class="line">Connection: keep-alive</div><div class="line">Content-Length: <span class="number">2</span></div><div class="line">Content-Type: application/json; charset=utf-<span class="number">8</span></div><div class="line"></div><div class="line">{}</div></pre></td></tr></table></figure>


      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2015-10-06T12:00:00.000Z"><a href="/2015/10/06/overriding-the-default-forwarded-ssh-port-in-vagrant/">Oct 6, 2015</a></time>
      
      
  
    <h1 class="title"><a href="/2015/10/06/overriding-the-default-forwarded-ssh-port-in-vagrant/">Overriding the Default Forwarded SSH Port in Vagrant</a></h1>
  

    </header>
    <div class="entry">
      
        <p>TLDR:</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># Must specified `id: "ssh"` in order to override the default forwarded SSH port.</span></div><div class="line">config.vm.network <span class="symbol">:forwarded_port</span>, <span class="symbol">guest:</span> <span class="number">22</span>, <span class="symbol">host:</span> <span class="number">2322</span>, <span class="symbol">id:</span> <span class="string">"ssh"</span></div></pre></td></tr></table></figure>

<p>What’s the problem? If running multiple virtual machines managed by Vagrant, SSH port collision will happen:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">Vagrant cannot forward the specified ports on this VM, since they</div><div class="line">would collide with some other application that is already listening</div><div class="line">on these ports. The forwarded port to 2222 is already in use</div><div class="line">on the host machine.</div><div class="line"></div><div class="line">To fix this, modify your current projects Vagrantfile to use another</div><div class="line">port. Example, where '1234' would be replaced by a unique host port:</div><div class="line"></div><div class="line">  config.vm.network :forwarded_port, guest: 22, host: 1234</div><div class="line"></div><div class="line">Sometimes, Vagrant will attempt to auto-correct this for you. In this</div><div class="line">case, Vagrant was unable to. This is usually because the guest machine</div><div class="line">is in a state which doesn't allow modifying port forwarding.</div></pre></td></tr></table></figure>

<p>The example is <em>correct</em> but <em>incomplete</em>. By default the SSH port (<code>22</code>) on the guest machine is forwarded to port <code>2222</code> on the host machine:</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># Source: https://github.com/mitchellh/vagrant/blob/v1.7.2/plugins/kernel_v2/config/vm.rb</span></div><div class="line"><span class="keyword">if</span> !<span class="variable">@__networks</span>[<span class="string">"forwarded_port-ssh"</span>]</div><div class="line">  network <span class="symbol">:forwarded_port</span>,</div><div class="line">    <span class="symbol">guest:</span> <span class="number">22</span>,</div><div class="line">    <span class="symbol">host:</span> <span class="number">2222</span>,</div><div class="line">    <span class="symbol">host_ip:</span> <span class="string">"127.0.0.1"</span>,</div><div class="line">    <span class="symbol">id:</span> <span class="string">"ssh"</span>,</div><div class="line">    <span class="symbol">auto_correct:</span> <span class="keyword">true</span></div><div class="line"><span class="keyword">end</span></div></pre></td></tr></table></figure>

<p>Changing to another port in <code>Vagrantfile</code> does not solve the problem. For example, switching from <code>2222</code> to <code>2322</code>:</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># Create a forwarded port mapping which allows access to a specific port</span></div><div class="line"><span class="comment"># within the machine from a port on the host machine. In the example below,</span></div><div class="line"><span class="comment"># accessing "localhost:8080" will access port 80 on the guest machine.</span></div><div class="line">config.vm.network <span class="string">"forwarded_port"</span>, <span class="symbol">guest:</span> <span class="number">22</span>, <span class="symbol">host:</span> <span class="number">2322</span></div></pre></td></tr></table></figure>

<p>In this situation, you are forwarding both ports <code>2222</code> and <code>2322</code> to the SSH port on the guest machine, as shown in <a href="https://www.virtualbox.org/" target="_blank" rel="external">VirtualBox</a> port forwarding settings:</p>
<p><img src="/2015/10/06/overriding-the-default-forwarded-ssh-port-in-vagrant/port-forwarding-rules.jpg" alt="Port Forwarding Rules"></p>
<p>When bringing up the machine, there will be multiple host machine ports forwarding to the same SSH port.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">$ vagrant up</div><div class="line">==&gt; default: Forwarding ports...</div><div class="line">    default: <span class="number">22</span> =&gt; <span class="number">2322</span> (adapter <span class="number">1</span>)</div><div class="line">    default: <span class="number">22</span> =&gt; <span class="number">2222</span> (adapter <span class="number">1</span>)</div></pre></td></tr></table></figure>

<p>The SSH configuration shows the same outcome:</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">$ vagrant ssh-config</div><div class="line">Host default</div><div class="line">  HostName <span class="number">127.0</span>.<span class="number">0.1</span></div><div class="line">  User chao</div><div class="line">  Port <span class="number">2222</span></div></pre></td></tr></table></figure>

<p>Of course, you can do:</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ ssh -p <span class="number">2322</span> chao@localhost</div></pre></td></tr></table></figure>

<p>This works, but we like the simple <code>vagrant ssh</code> command, and we just want to retain a single port <code>2322</code>.</p>
<p>The solution is appending <code>id: &quot;ssh&quot;</code>, and it must be specified in order to override the default forwarded SSH port. See &lt; <a href="https://github.com/mitchellh/vagrant/issues/3232#issuecomment-39354659&gt;" target="_blank" rel="external">https://github.com/mitchellh/vagrant/issues/3232#issuecomment-39354659&gt;</a>:</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># Must specified `id: "ssh"` in order to override the default forwarded SSH port.</span></div><div class="line">config.vm.network <span class="symbol">:forwarded_port</span>, <span class="symbol">guest:</span> <span class="number">22</span>, <span class="symbol">host:</span> <span class="number">2322</span>, <span class="symbol">id:</span> <span class="string">"ssh"</span></div></pre></td></tr></table></figure>

<p>After appending <code>id: &quot;ssh&quot;</code>, the SSH configuration has also been updated:</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">$ vagrant ssh-config</div><div class="line">Host default</div><div class="line">  HostName <span class="number">127.0</span>.<span class="number">0.1</span></div><div class="line">  User chao</div><div class="line">  Port <span class="number">2322</span></div></pre></td></tr></table></figure>

<p>Now, you are good to go:</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ vagrant ssh</div></pre></td></tr></table></figure>


      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2015-10-02T12:00:00.000Z"><a href="/2015/10/02/re-assembling-the-requested-url/">Oct 2, 2015</a></time>
      
      
  
    <h1 class="title"><a href="/2015/10/02/re-assembling-the-requested-url/">Re-assembling the Requested URL</a></h1>
  

    </header>
    <div class="entry">
      
        <p>It is simple to know the request URL path, it’s one (<code>this.url</code> in <a href="http://koajs.com/" target="_blank" rel="external">Koa</a>) used by routing, but if you are looking to get the complete URL, it’s a little bit complicated. Luckily, there is a quick way to re-assemble the requested URL in <a href="http://koajs.com/" target="_blank" rel="external">Koa</a>, if proxy is not a concern:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> url = <span class="keyword">this</span>.request.protocol + <span class="string">'://'</span> + <span class="keyword">this</span>.request.host + <span class="keyword">this</span>.request.originalUrl;</div></pre></td></tr></table></figure>

<p>Or a shorter version:</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> url = <span class="keyword">this</span>.protocol + <span class="string">'://'</span> + <span class="keyword">this</span>.host + <span class="keyword">this</span>.originalUrl;</div></pre></td></tr></table></figure>

<p>The port number is included in <code>this.host</code>, for example: <code>localhost:3000</code>.</p>
<p>Putting into a complete script:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">require</span>(<span class="string">'koa'</span>)().use(<span class="function"><span class="keyword">function</span> *<span class="params">()</span> </span>{</div><div class="line">  <span class="comment">// Echo back the request URL.</span></div><div class="line">  <span class="keyword">this</span>.body = <span class="keyword">this</span>.protocol + <span class="string">'://'</span> + <span class="keyword">this</span>.host + <span class="keyword">this</span>.originalUrl;</div><div class="line">}).listen(<span class="number">3000</span>);</div></pre></td></tr></table></figure>

<p>Assume that you have a server running on the host <code>www.example.com</code> with SSL enabled. If you make a request to the server with the URL: <code>https://www.example.com/path</code>, this URL will be echoed back in the response by the above script.</p>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2015-09-27T12:00:00.000Z"><a href="/2015/09/27/calculate-hashes-for-all-openssl-digest-algorithms/">Sep 27, 2015</a></time>
      
      
  
    <h1 class="title"><a href="/2015/09/27/calculate-hashes-for-all-openssl-digest-algorithms/">Calculate Hashes for All OpenSSL Digest Algorithms</a></h1>
  

    </header>
    <div class="entry">
      
        <p>Based on the following <a href="https://nodejs.org/api/crypto.html" target="_blank" rel="external">Node.js</a> statement:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">require</span>(<span class="string">'crypto'</span>).createHash(algorithm).update(<span class="string">'secret'</span>, <span class="string">'utf8'</span>).digest(<span class="string">'base64'</span>);</div></pre></td></tr></table></figure>

<p>On a Ubuntu 14.04 system with <a href="http://www.openssl.org/" target="_blank" rel="external">OpenSSL</a>:</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ openssl version</div><div class="line">OpenSSL <span class="number">1.0</span>.<span class="number">1</span>f <span class="number">6</span> Jan <span class="number">2014</span></div></pre></td></tr></table></figure>

<p>List available digest algorithms:</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div></pre></td><td class="code"><pre><div class="line">$ openssl list-message-digest-algorithms</div><div class="line">DSA</div><div class="line">DSA-SHA</div><div class="line">DSA-SHA1 =&gt; DSA</div><div class="line">DSA-SHA1-old =&gt; DSA-SHA1</div><div class="line">DSS1 =&gt; DSA-SHA1</div><div class="line">MD4</div><div class="line">MD5</div><div class="line">RIPEMD160</div><div class="line">RSA-MD4 =&gt; MD4</div><div class="line">RSA-MD5 =&gt; MD5</div><div class="line">RSA-RIPEMD160 =&gt; RIPEMD160</div><div class="line">RSA-SHA =&gt; SHA</div><div class="line">RSA-SHA1 =&gt; SHA1</div><div class="line">RSA-SHA1-<span class="number">2</span> =&gt; RSA-SHA1</div><div class="line">RSA-SHA224 =&gt; SHA224</div><div class="line">RSA-SHA256 =&gt; SHA256</div><div class="line">RSA-SHA384 =&gt; SHA384</div><div class="line">RSA-SHA512 =&gt; SHA512</div><div class="line">SHA</div><div class="line">SHA1</div><div class="line">SHA224</div><div class="line">SHA256</div><div class="line">SHA384</div><div class="line">SHA512</div><div class="line">DSA</div><div class="line">DSA-SHA</div><div class="line">dsaWithSHA1 =&gt; DSA</div><div class="line">dss1 =&gt; DSA-SHA1</div><div class="line">ecdsa-with-SHA1</div><div class="line">MD4</div><div class="line">md4WithRSAEncryption =&gt; MD4</div><div class="line">MD5</div><div class="line">md5WithRSAEncryption =&gt; MD5</div><div class="line">ripemd =&gt; RIPEMD160</div><div class="line">RIPEMD160</div><div class="line">ripemd160WithRSA =&gt; RIPEMD160</div><div class="line">rmd160 =&gt; RIPEMD160</div><div class="line">SHA</div><div class="line">SHA1</div><div class="line">sha1WithRSAEncryption =&gt; SHA1</div><div class="line">SHA224</div><div class="line">sha224WithRSAEncryption =&gt; SHA224</div><div class="line">SHA256</div><div class="line">sha256WithRSAEncryption =&gt; SHA256</div><div class="line">SHA384</div><div class="line">sha384WithRSAEncryption =&gt; SHA384</div><div class="line">SHA512</div><div class="line">sha512WithRSAEncryption =&gt; SHA512</div><div class="line">shaWithRSAEncryption =&gt; SHA</div><div class="line">ssl2-md5 =&gt; MD5</div><div class="line">ssl3-md5 =&gt; MD5</div><div class="line">ssl3-sha1 =&gt; SHA1</div><div class="line">whirlpool</div></pre></td></tr></table></figure>

<p>Calculate hashes for each and every uniquely listed algorithm:</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div></pre></td><td class="code"><pre><div class="line">$ openssl list-message-digest-algorithms | \</div><div class="line">  cut <span class="operator">-d</span> <span class="string">' '</span> <span class="operator">-f</span> <span class="number">1</span> | \</div><div class="line">  xargs -n <span class="number">1</span> -I {} node <span class="operator">-e</span> <span class="string">"algorithm = '{}'; \</span></div><div class="line">  digest = require('crypto').createHash('{}').update('secret', 'utf8').digest('base64'); \</div><div class="line">  console.log(algorithm, digest)" | \</div><div class="line">  sort -u</div><div class="line">DSA <span class="number">5</span>en6G6MezRroT3XKqkdPOmY/BfQ=</div><div class="line">DSA-SHA1 <span class="number">5</span>en6G6MezRroT3XKqkdPOmY/BfQ=</div><div class="line">DSA-SHA1-old <span class="number">5</span>en6G6MezRroT3XKqkdPOmY/BfQ=</div><div class="line">DSA-SHA <span class="number">5</span>en6G6MezRroT3XKqkdPOmY/BfQ=</div><div class="line">dsaWithSHA1 <span class="number">5</span>en6G6MezRroT3XKqkdPOmY/BfQ=</div><div class="line">dss1 <span class="number">5</span>en6G6MezRroT3XKqkdPOmY/BfQ=</div><div class="line">DSS1 <span class="number">5</span>en6G6MezRroT3XKqkdPOmY/BfQ=</div><div class="line">ecdsa-with-SHA1 <span class="number">5</span>en6G6MezRroT3XKqkdPOmY/BfQ=</div><div class="line">md4WithRSAEncryption Z9Pa/vY/<span class="number">8</span>AYDru83ac+/DQ==</div><div class="line">MD4 Z9Pa/vY/<span class="number">8</span>AYDru83ac+/DQ==</div><div class="line">md5WithRSAEncryption Xr4ilOzQ4PCOq3aQ0qbuaQ==</div><div class="line">MD5 Xr4ilOzQ4PCOq3aQ0qbuaQ==</div><div class="line">ripemd160WithRSA zZi/AgLvB+OOh/a9lEXl5zMeLHg=</div><div class="line">RIPEMD160 zZi/AgLvB+OOh/a9lEXl5zMeLHg=</div><div class="line">ripemd zZi/AgLvB+OOh/a9lEXl5zMeLHg=</div><div class="line">rmd160 zZi/AgLvB+OOh/a9lEXl5zMeLHg=</div><div class="line">RSA-MD4 Z9Pa/vY/<span class="number">8</span>AYDru83ac+/DQ==</div><div class="line">RSA-MD5 Xr4ilOzQ4PCOq3aQ0qbuaQ==</div><div class="line">RSA-RIPEMD160 zZi/AgLvB+OOh/a9lEXl5zMeLHg=</div><div class="line">RSA-SHA1-<span class="number">2</span> <span class="number">5</span>en6G6MezRroT3XKqkdPOmY/BfQ=</div><div class="line">RSA-SHA1 <span class="number">5</span>en6G6MezRroT3XKqkdPOmY/BfQ=</div><div class="line">RSA-SHA224 lcf7ypKsUIOv2mKlZKPQFPw7cskUDjy5nqa/Eg==</div><div class="line">RSA-SHA256 K7gNU3sdo+OL0wNhqoVWhr3g6s1xYv72ol/pe/Unols=</div><div class="line">RSA-SHA384 WKd1ukESvjAFrkQHznV9iP2nHUBJe7gCbsrFTU4//HIyzo3jq1rLMK45dg/ufFPt</div><div class="line">RSA-SHA512 vSsar3708Jvp9Szi2NWZZ02Bqp1qRCFpbcTZPdBhnWgs5WtNZKnvCXdhztmeD2cmW192CF5bDufKRpayrW/isg==</div><div class="line">RSA-SHA f72qWouzjoc6vqk8vf5NBIVHFXs=</div><div class="line">SHA1 <span class="number">5</span>en6G6MezRroT3XKqkdPOmY/BfQ=</div><div class="line">sha1WithRSAEncryption <span class="number">5</span>en6G6MezRroT3XKqkdPOmY/BfQ=</div><div class="line">SHA224 lcf7ypKsUIOv2mKlZKPQFPw7cskUDjy5nqa/Eg==</div><div class="line">sha224WithRSAEncryption lcf7ypKsUIOv2mKlZKPQFPw7cskUDjy5nqa/Eg==</div><div class="line">SHA256 K7gNU3sdo+OL0wNhqoVWhr3g6s1xYv72ol/pe/Unols=</div><div class="line">sha256WithRSAEncryption K7gNU3sdo+OL0wNhqoVWhr3g6s1xYv72ol/pe/Unols=</div><div class="line">sha384WithRSAEncryption WKd1ukESvjAFrkQHznV9iP2nHUBJe7gCbsrFTU4//HIyzo3jq1rLMK45dg/ufFPt</div><div class="line">SHA384 WKd1ukESvjAFrkQHznV9iP2nHUBJe7gCbsrFTU4//HIyzo3jq1rLMK45dg/ufFPt</div><div class="line">SHA512 vSsar3708Jvp9Szi2NWZZ02Bqp1qRCFpbcTZPdBhnWgs5WtNZKnvCXdhztmeD2cmW192CF5bDufKRpayrW/isg==</div><div class="line">sha512WithRSAEncryption vSsar3708Jvp9Szi2NWZZ02Bqp1qRCFpbcTZPdBhnWgs5WtNZKnvCXdhztmeD2cmW192CF5bDufKRpayrW/isg==</div><div class="line">SHA f72qWouzjoc6vqk8vf5NBIVHFXs=</div><div class="line">shaWithRSAEncryption f72qWouzjoc6vqk8vf5NBIVHFXs=</div><div class="line">ssl2-md5 Xr4ilOzQ4PCOq3aQ0qbuaQ==</div><div class="line">ssl3-md5 Xr4ilOzQ4PCOq3aQ0qbuaQ==</div><div class="line">ssl3-sha1 <span class="number">5</span>en6G6MezRroT3XKqkdPOmY/BfQ=</div><div class="line">whirlpool <span class="number">4</span>GG4emdK44gOFZq1XtNdbF6Kau+sarCDBKUFiAGNN3soY5uxX97t8AbVfkX3tCmObf786vfJLIJqcI/m0RVusw==</div></pre></td></tr></table></figure>


      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2015-09-27T12:00:00.000Z"><a href="/2015/09/27/get-started-with-the-cut-command-of-gnu-coreutils/">Sep 27, 2015</a></time>
      
      
  
    <h1 class="title"><a href="/2015/09/27/get-started-with-the-cut-command-of-gnu-coreutils/">Get Started with the Cut Command of GNU Coreutils</a></h1>
  

    </header>
    <div class="entry">
      
        <p>A part of <a href="http://www.gnu.org/software/coreutils/manual/html_node/index.html" target="_blank" rel="external">GNU Coreutils</a>, <a href="http://www.gnu.org/software/coreutils/manual/html_node/cut-invocation.html#cut-invocation" target="_blank" rel="external">cut</a> command likes <a href="http://www.gnu.org/software/coreutils/manual/html_node/paste-invocation.html#paste-invocation" target="_blank" rel="external">paste</a> and <a href="http://www.gnu.org/software/coreutils/manual/html_node/join-invocation.html#join-invocation" target="_blank" rel="external">join</a> is one that operates on fields. The <code>cut</code> command prints selected parts (fields or sections) of lines.</p>
<p>Things to keep in mind:</p>
<ul>
<li>Work on text stream line by line</li>
<li>Print sections/parts/fields</li>
<li>Either <code>-c</code>, <code>-b</code> or <code>-f</code> option must be used</li>
<li>The default delimiter is <code>TAB</code></li>
<li>The delimiter must be a single character</li>
<li>Consecutive delimiters need to be consolidated into one</li>
<li>Cut multiple or a range of fields</li>
</ul>
<p>Generate sample data and saved in the file <code>tab.txt</code>:</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">$ file=tab.txt &&              \</div><div class="line">  <span class="keyword">for</span> i <span class="keyword">in</span> $(seq <span class="number">1</span> <span class="number">9</span>); <span class="keyword">do</span>      \</div><div class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> $(seq <span class="number">1</span> <span class="number">9</span>); <span class="keyword">do</span>    \</div><div class="line">      <span class="keyword">if</span> [ <span class="string">"<span class="variable">$j</span>"</span> == <span class="string">"9"</span> ]; <span class="keyword">then</span> \</div><div class="line">        <span class="built_in">echo</span> <span class="operator">-e</span> <span class="string">"<span class="variable">$i</span><span class="variable">$j</span>"</span>;        \</div><div class="line">      <span class="keyword">else</span>                     \</div><div class="line">        <span class="built_in">echo</span> -en <span class="string">"<span class="variable">$i</span><span class="variable">$j</span>\t"</span>;     \</div><div class="line">      <span class="keyword">fi</span>;                      \</div><div class="line">    <span class="keyword">done</span>;                      \</div><div class="line">  <span class="keyword">done</span> &gt; <span class="variable">$file</span> && cat <span class="variable">$file</span></div><div class="line"><span class="number">11</span>      <span class="number">12</span>      <span class="number">13</span>      <span class="number">14</span>      <span class="number">15</span>      <span class="number">16</span>      <span class="number">17</span>      <span class="number">18</span>      <span class="number">19</span></div><div class="line"><span class="number">21</span>      <span class="number">22</span>      <span class="number">23</span>      <span class="number">24</span>      <span class="number">25</span>      <span class="number">26</span>      <span class="number">27</span>      <span class="number">28</span>      <span class="number">29</span></div><div class="line"><span class="number">31</span>      <span class="number">32</span>      <span class="number">33</span>      <span class="number">34</span>      <span class="number">35</span>      <span class="number">36</span>      <span class="number">37</span>      <span class="number">38</span>      <span class="number">39</span></div><div class="line"><span class="number">41</span>      <span class="number">42</span>      <span class="number">43</span>      <span class="number">44</span>      <span class="number">45</span>      <span class="number">46</span>      <span class="number">47</span>      <span class="number">48</span>      <span class="number">49</span></div><div class="line"><span class="number">51</span>      <span class="number">52</span>      <span class="number">53</span>      <span class="number">54</span>      <span class="number">55</span>      <span class="number">56</span>      <span class="number">57</span>      <span class="number">58</span>      <span class="number">59</span></div><div class="line"><span class="number">61</span>      <span class="number">62</span>      <span class="number">63</span>      <span class="number">64</span>      <span class="number">65</span>      <span class="number">66</span>      <span class="number">67</span>      <span class="number">68</span>      <span class="number">69</span></div><div class="line"><span class="number">71</span>      <span class="number">72</span>      <span class="number">73</span>      <span class="number">74</span>      <span class="number">75</span>      <span class="number">76</span>      <span class="number">77</span>      <span class="number">78</span>      <span class="number">79</span></div><div class="line"><span class="number">81</span>      <span class="number">82</span>      <span class="number">83</span>      <span class="number">84</span>      <span class="number">85</span>      <span class="number">86</span>      <span class="number">87</span>      <span class="number">88</span>      <span class="number">89</span></div><div class="line"><span class="number">91</span>      <span class="number">92</span>      <span class="number">93</span>      <span class="number">94</span>      <span class="number">95</span>      <span class="number">96</span>      <span class="number">97</span>      <span class="number">98</span>      <span class="number">99</span></div></pre></td></tr></table></figure>

<p>Fields on each line is separated by a tab character.</p>
<p>There is a required option:</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$ cut tab.txt</div><div class="line">cut: you must specify a list of bytes, characters, or fields</div><div class="line">Try <span class="string">'cut --help'</span> <span class="keyword">for</span> more information.</div></pre></td></tr></table></figure>

<p>These options are:</p>
<ul>
<li>bytes: <code>-b</code> or <code>--bytes=LIST</code></li>
<li>characters: <code>-c</code> or <code>--characters=LIST</code></li>
<li>fields: <code>-f</code> or <code>--fields=LIST</code></li>
</ul>
<p>This is very odd. Option means optional, a default should be provided. But let’s focus on the common used one: <em>fields</em>.</p>
<p>Cut the first and the ninth fields with the default delimiter <code>TAB</code>:</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line">$ cut <span class="operator">-f</span> <span class="number">1</span> tab.txt</div><div class="line"><span class="number">11</span></div><div class="line"><span class="number">21</span></div><div class="line"><span class="number">31</span></div><div class="line"><span class="number">41</span></div><div class="line"><span class="number">51</span></div><div class="line"><span class="number">61</span></div><div class="line"><span class="number">71</span></div><div class="line"><span class="number">81</span></div><div class="line"><span class="number">91</span></div><div class="line"></div><div class="line">$ cut <span class="operator">-f</span> <span class="number">9</span> tab.txt</div><div class="line"><span class="number">19</span></div><div class="line"><span class="number">29</span></div><div class="line"><span class="number">39</span></div><div class="line"><span class="number">49</span></div><div class="line"><span class="number">59</span></div><div class="line"><span class="number">69</span></div><div class="line"><span class="number">79</span></div><div class="line"><span class="number">89</span></div><div class="line"><span class="number">99</span></div></pre></td></tr></table></figure>

<p>Use space as the delimiter:</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">$ cp tab.txt space.txt && sed -i <span class="string">'s/\t/ /g'</span> <span class="variable">$_</span> && cat <span class="variable">$_</span></div><div class="line"><span class="number">11</span> <span class="number">12</span> <span class="number">13</span> <span class="number">14</span> <span class="number">15</span> <span class="number">16</span> <span class="number">17</span> <span class="number">18</span> <span class="number">19</span></div><div class="line"><span class="number">21</span> <span class="number">22</span> <span class="number">23</span> <span class="number">24</span> <span class="number">25</span> <span class="number">26</span> <span class="number">27</span> <span class="number">28</span> <span class="number">29</span></div><div class="line"><span class="number">31</span> <span class="number">32</span> <span class="number">33</span> <span class="number">34</span> <span class="number">35</span> <span class="number">36</span> <span class="number">37</span> <span class="number">38</span> <span class="number">39</span></div><div class="line"><span class="number">41</span> <span class="number">42</span> <span class="number">43</span> <span class="number">44</span> <span class="number">45</span> <span class="number">46</span> <span class="number">47</span> <span class="number">48</span> <span class="number">49</span></div><div class="line"><span class="number">51</span> <span class="number">52</span> <span class="number">53</span> <span class="number">54</span> <span class="number">55</span> <span class="number">56</span> <span class="number">57</span> <span class="number">58</span> <span class="number">59</span></div><div class="line"><span class="number">61</span> <span class="number">62</span> <span class="number">63</span> <span class="number">64</span> <span class="number">65</span> <span class="number">66</span> <span class="number">67</span> <span class="number">68</span> <span class="number">69</span></div><div class="line"><span class="number">71</span> <span class="number">72</span> <span class="number">73</span> <span class="number">74</span> <span class="number">75</span> <span class="number">76</span> <span class="number">77</span> <span class="number">78</span> <span class="number">79</span></div><div class="line"><span class="number">81</span> <span class="number">82</span> <span class="number">83</span> <span class="number">84</span> <span class="number">85</span> <span class="number">86</span> <span class="number">87</span> <span class="number">88</span> <span class="number">89</span></div><div class="line"><span class="number">91</span> <span class="number">92</span> <span class="number">93</span> <span class="number">94</span> <span class="number">95</span> <span class="number">96</span> <span class="number">97</span> <span class="number">98</span> <span class="number">99</span></div></pre></td></tr></table></figure>

<p>We must choose a different delimiter via <code>-d</code> or <code>--delimiter=DELIM</code> option:</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line">$ cut <span class="operator">-f</span> <span class="number">1</span> <span class="variable">$_</span></div><div class="line"><span class="number">11</span> <span class="number">12</span> <span class="number">13</span> <span class="number">14</span> <span class="number">15</span> <span class="number">16</span> <span class="number">17</span> <span class="number">18</span> <span class="number">19</span></div><div class="line"><span class="number">21</span> <span class="number">22</span> <span class="number">23</span> <span class="number">24</span> <span class="number">25</span> <span class="number">26</span> <span class="number">27</span> <span class="number">28</span> <span class="number">29</span></div><div class="line"><span class="number">31</span> <span class="number">32</span> <span class="number">33</span> <span class="number">34</span> <span class="number">35</span> <span class="number">36</span> <span class="number">37</span> <span class="number">38</span> <span class="number">39</span></div><div class="line"><span class="number">41</span> <span class="number">42</span> <span class="number">43</span> <span class="number">44</span> <span class="number">45</span> <span class="number">46</span> <span class="number">47</span> <span class="number">48</span> <span class="number">49</span></div><div class="line"><span class="number">51</span> <span class="number">52</span> <span class="number">53</span> <span class="number">54</span> <span class="number">55</span> <span class="number">56</span> <span class="number">57</span> <span class="number">58</span> <span class="number">59</span></div><div class="line"><span class="number">61</span> <span class="number">62</span> <span class="number">63</span> <span class="number">64</span> <span class="number">65</span> <span class="number">66</span> <span class="number">67</span> <span class="number">68</span> <span class="number">69</span></div><div class="line"><span class="number">71</span> <span class="number">72</span> <span class="number">73</span> <span class="number">74</span> <span class="number">75</span> <span class="number">76</span> <span class="number">77</span> <span class="number">78</span> <span class="number">79</span></div><div class="line"><span class="number">81</span> <span class="number">82</span> <span class="number">83</span> <span class="number">84</span> <span class="number">85</span> <span class="number">86</span> <span class="number">87</span> <span class="number">88</span> <span class="number">89</span></div><div class="line"><span class="number">91</span> <span class="number">92</span> <span class="number">93</span> <span class="number">94</span> <span class="number">95</span> <span class="number">96</span> <span class="number">97</span> <span class="number">98</span> <span class="number">99</span></div><div class="line"></div><div class="line">$ cut <span class="operator">-f</span> <span class="number">1</span> <span class="operator">-d</span> <span class="string">' '</span> <span class="variable">$_</span></div><div class="line"><span class="number">11</span></div><div class="line"><span class="number">21</span></div><div class="line"><span class="number">31</span></div><div class="line"><span class="number">41</span></div><div class="line"><span class="number">51</span></div><div class="line"><span class="number">61</span></div><div class="line"><span class="number">71</span></div><div class="line"><span class="number">81</span></div><div class="line"><span class="number">91</span></div></pre></td></tr></table></figure>

<p>Delimiter must be a single character:</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$ cut <span class="operator">-f</span> <span class="number">1</span> <span class="operator">-d</span> <span class="string">'\s'</span> <span class="variable">$_</span></div><div class="line">cut: the delimiter must be a single character</div><div class="line">Try <span class="string">'cut --help'</span> <span class="keyword">for</span> more information.</div></pre></td></tr></table></figure>

<p>Files containing mixed delimiters (tab and space):</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">$ cp tab.txt mixed.txt && sed -i <span class="string">'s/\(9.\)\t/\1 /g'</span> <span class="variable">$_</span> && cat <span class="variable">$_</span></div><div class="line"><span class="number">11</span>      <span class="number">12</span>      <span class="number">13</span>      <span class="number">14</span>      <span class="number">15</span>      <span class="number">16</span>      <span class="number">17</span>      <span class="number">18</span>      <span class="number">19</span></div><div class="line"><span class="number">21</span>      <span class="number">22</span>      <span class="number">23</span>      <span class="number">24</span>      <span class="number">25</span>      <span class="number">26</span>      <span class="number">27</span>      <span class="number">28</span>      <span class="number">29</span></div><div class="line"><span class="number">31</span>      <span class="number">32</span>      <span class="number">33</span>      <span class="number">34</span>      <span class="number">35</span>      <span class="number">36</span>      <span class="number">37</span>      <span class="number">38</span>      <span class="number">39</span></div><div class="line"><span class="number">41</span>      <span class="number">42</span>      <span class="number">43</span>      <span class="number">44</span>      <span class="number">45</span>      <span class="number">46</span>      <span class="number">47</span>      <span class="number">48</span>      <span class="number">49</span></div><div class="line"><span class="number">51</span>      <span class="number">52</span>      <span class="number">53</span>      <span class="number">54</span>      <span class="number">55</span>      <span class="number">56</span>      <span class="number">57</span>      <span class="number">58</span>      <span class="number">59</span></div><div class="line"><span class="number">61</span>      <span class="number">62</span>      <span class="number">63</span>      <span class="number">64</span>      <span class="number">65</span>      <span class="number">66</span>      <span class="number">67</span>      <span class="number">68</span>      <span class="number">69</span></div><div class="line"><span class="number">71</span>      <span class="number">72</span>      <span class="number">73</span>      <span class="number">74</span>      <span class="number">75</span>      <span class="number">76</span>      <span class="number">77</span>      <span class="number">78</span>      <span class="number">79</span></div><div class="line"><span class="number">81</span>      <span class="number">82</span>      <span class="number">83</span>      <span class="number">84</span>      <span class="number">85</span>      <span class="number">86</span>      <span class="number">87</span>      <span class="number">88</span>      <span class="number">89</span></div><div class="line"><span class="number">91</span> <span class="number">92</span> <span class="number">93</span> <span class="number">94</span> <span class="number">95</span> <span class="number">96</span> <span class="number">97</span> <span class="number">98</span> <span class="number">99</span></div></pre></td></tr></table></figure>

<p>will print any line that contains no delimiter character:</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">$ cut <span class="operator">-f</span> <span class="number">1</span> mixed.txt</div><div class="line"><span class="number">11</span></div><div class="line"><span class="number">21</span></div><div class="line"><span class="number">31</span></div><div class="line"><span class="number">41</span></div><div class="line"><span class="number">51</span></div><div class="line"><span class="number">61</span></div><div class="line"><span class="number">71</span></div><div class="line"><span class="number">81</span></div><div class="line"><span class="number">91</span> <span class="number">92</span> <span class="number">93</span> <span class="number">94</span> <span class="number">95</span> <span class="number">96</span> <span class="number">97</span> <span class="number">98</span> <span class="number">99</span></div></pre></td></tr></table></figure>

<p>Or use <code>-s</code> or <code>--only-delimited</code> option to omit those lines.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">$ cut -sf <span class="number">1</span> mixed.txt</div><div class="line"><span class="number">11</span></div><div class="line"><span class="number">21</span></div><div class="line"><span class="number">31</span></div><div class="line"><span class="number">41</span></div><div class="line"><span class="number">51</span></div><div class="line"><span class="number">61</span></div><div class="line"><span class="number">71</span></div><div class="line"><span class="number">81</span></div></pre></td></tr></table></figure>

<p>But the better approach is to do data cleansing prior.</p>
<p>What about multiple <code>TAB</code> characters in the file:</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">$ sed -i <span class="string">'s/\(1.\)\t/\1\t\t/'</span> mixed.txt && cat <span class="variable">$_</span></div><div class="line"><span class="number">11</span>              <span class="number">12</span>      <span class="number">13</span>      <span class="number">14</span>      <span class="number">15</span>      <span class="number">16</span>      <span class="number">17</span>      <span class="number">18</span>      <span class="number">19</span></div><div class="line"><span class="number">21</span>      <span class="number">22</span>      <span class="number">23</span>      <span class="number">24</span>      <span class="number">25</span>      <span class="number">26</span>      <span class="number">27</span>      <span class="number">28</span>      <span class="number">29</span></div><div class="line"><span class="number">31</span>      <span class="number">32</span>      <span class="number">33</span>      <span class="number">34</span>      <span class="number">35</span>      <span class="number">36</span>      <span class="number">37</span>      <span class="number">38</span>      <span class="number">39</span></div><div class="line"><span class="number">41</span>      <span class="number">42</span>      <span class="number">43</span>      <span class="number">44</span>      <span class="number">45</span>      <span class="number">46</span>      <span class="number">47</span>      <span class="number">48</span>      <span class="number">49</span></div><div class="line"><span class="number">51</span>      <span class="number">52</span>      <span class="number">53</span>      <span class="number">54</span>      <span class="number">55</span>      <span class="number">56</span>      <span class="number">57</span>      <span class="number">58</span>      <span class="number">59</span></div><div class="line"><span class="number">61</span>      <span class="number">62</span>      <span class="number">63</span>      <span class="number">64</span>      <span class="number">65</span>      <span class="number">66</span>      <span class="number">67</span>      <span class="number">68</span>      <span class="number">69</span></div><div class="line"><span class="number">71</span>      <span class="number">72</span>      <span class="number">73</span>      <span class="number">74</span>      <span class="number">75</span>      <span class="number">76</span>      <span class="number">77</span>      <span class="number">78</span>      <span class="number">79</span></div><div class="line"><span class="number">81</span>      <span class="number">82</span>      <span class="number">83</span>      <span class="number">84</span>      <span class="number">85</span>      <span class="number">86</span>      <span class="number">87</span>      <span class="number">88</span>      <span class="number">89</span></div><div class="line"><span class="number">91</span> <span class="number">92</span> <span class="number">93</span> <span class="number">94</span> <span class="number">95</span> <span class="number">96</span> <span class="number">97</span> <span class="number">98</span> <span class="number">99</span></div></pre></td></tr></table></figure>

<p>An empty field is still a field:</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">$ cut -<span class="keyword">sf</span> <span class="number">2</span> mixed.txt</div><div class="line"></div><div class="line"><span class="number">22</span></div><div class="line"><span class="number">32</span></div><div class="line"><span class="number">42</span></div><div class="line"><span class="number">52</span></div><div class="line"><span class="number">62</span></div><div class="line"><span class="number">72</span></div><div class="line"><span class="number">82</span></div></pre></td></tr></table></figure>

<p>Therefore, the drawback here is that there cannot be multiple delimiter sticking together. Must perform data cleansing to reduce consecutive delimiters into a single one:</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">$ sed -i <span class="string">'s/\t\+/\t/g'</span> mixed.txt && cat <span class="variable">$_</span></div><div class="line"><span class="number">11</span>      <span class="number">12</span>      <span class="number">13</span>      <span class="number">14</span>      <span class="number">15</span>      <span class="number">16</span>      <span class="number">17</span>      <span class="number">18</span>      <span class="number">19</span></div><div class="line"><span class="number">21</span>      <span class="number">22</span>      <span class="number">23</span>      <span class="number">24</span>      <span class="number">25</span>      <span class="number">26</span>      <span class="number">27</span>      <span class="number">28</span>      <span class="number">29</span></div><div class="line"><span class="number">31</span>      <span class="number">32</span>      <span class="number">33</span>      <span class="number">34</span>      <span class="number">35</span>      <span class="number">36</span>      <span class="number">37</span>      <span class="number">38</span>      <span class="number">39</span></div><div class="line"><span class="number">41</span>      <span class="number">42</span>      <span class="number">43</span>      <span class="number">44</span>      <span class="number">45</span>      <span class="number">46</span>      <span class="number">47</span>      <span class="number">48</span>      <span class="number">49</span></div><div class="line"><span class="number">51</span>      <span class="number">52</span>      <span class="number">53</span>      <span class="number">54</span>      <span class="number">55</span>      <span class="number">56</span>      <span class="number">57</span>      <span class="number">58</span>      <span class="number">59</span></div><div class="line"><span class="number">61</span>      <span class="number">62</span>      <span class="number">63</span>      <span class="number">64</span>      <span class="number">65</span>      <span class="number">66</span>      <span class="number">67</span>      <span class="number">68</span>      <span class="number">69</span></div><div class="line"><span class="number">71</span>      <span class="number">72</span>      <span class="number">73</span>      <span class="number">74</span>      <span class="number">75</span>      <span class="number">76</span>      <span class="number">77</span>      <span class="number">78</span>      <span class="number">79</span></div><div class="line"><span class="number">81</span>      <span class="number">82</span>      <span class="number">83</span>      <span class="number">84</span>      <span class="number">85</span>      <span class="number">86</span>      <span class="number">87</span>      <span class="number">88</span>      <span class="number">89</span></div><div class="line"><span class="number">91</span> <span class="number">92</span> <span class="number">93</span> <span class="number">94</span> <span class="number">95</span> <span class="number">96</span> <span class="number">97</span> <span class="number">98</span> <span class="number">99</span></div></pre></td></tr></table></figure>

<p>Multiple fields can be cut:</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">$ cut <span class="operator">-f</span> <span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">7</span>,<span class="number">9</span> tab.txt</div><div class="line"><span class="number">11</span>      <span class="number">13</span>      <span class="number">15</span>      <span class="number">17</span>      <span class="number">19</span></div><div class="line"><span class="number">21</span>      <span class="number">23</span>      <span class="number">25</span>      <span class="number">27</span>      <span class="number">29</span></div><div class="line"><span class="number">31</span>      <span class="number">33</span>      <span class="number">35</span>      <span class="number">37</span>      <span class="number">39</span></div><div class="line"><span class="number">41</span>      <span class="number">43</span>      <span class="number">45</span>      <span class="number">47</span>      <span class="number">49</span></div><div class="line"><span class="number">51</span>      <span class="number">53</span>      <span class="number">55</span>      <span class="number">57</span>      <span class="number">59</span></div><div class="line"><span class="number">61</span>      <span class="number">63</span>      <span class="number">65</span>      <span class="number">67</span>      <span class="number">69</span></div><div class="line"><span class="number">71</span>      <span class="number">73</span>      <span class="number">75</span>      <span class="number">77</span>      <span class="number">79</span></div><div class="line"><span class="number">81</span>      <span class="number">83</span>      <span class="number">85</span>      <span class="number">87</span>      <span class="number">89</span></div><div class="line"><span class="number">91</span>      <span class="number">93</span>      <span class="number">95</span>      <span class="number">97</span>      <span class="number">99</span></div></pre></td></tr></table></figure>

<p>Cut a range:</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">$ cut <span class="operator">-f</span> <span class="number">3</span>-<span class="number">5</span> tab.txt</div><div class="line"><span class="number">13</span>      <span class="number">14</span>      <span class="number">15</span></div><div class="line"><span class="number">23</span>      <span class="number">24</span>      <span class="number">25</span></div><div class="line"><span class="number">33</span>      <span class="number">34</span>      <span class="number">35</span></div><div class="line"><span class="number">43</span>      <span class="number">44</span>      <span class="number">45</span></div><div class="line"><span class="number">53</span>      <span class="number">54</span>      <span class="number">55</span></div><div class="line"><span class="number">63</span>      <span class="number">64</span>      <span class="number">65</span></div><div class="line"><span class="number">73</span>      <span class="number">74</span>      <span class="number">75</span></div><div class="line"><span class="number">83</span>      <span class="number">84</span>      <span class="number">85</span></div><div class="line"><span class="number">93</span>      <span class="number">94</span>      <span class="number">95</span></div></pre></td></tr></table></figure>

<p>Cut up to or from a field:</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line">$ cut <span class="operator">-f</span> -<span class="number">3</span> tab.txt</div><div class="line"><span class="number">11</span>      <span class="number">12</span>      <span class="number">13</span></div><div class="line"><span class="number">21</span>      <span class="number">22</span>      <span class="number">23</span></div><div class="line"><span class="number">31</span>      <span class="number">32</span>      <span class="number">33</span></div><div class="line"><span class="number">41</span>      <span class="number">42</span>      <span class="number">43</span></div><div class="line"><span class="number">51</span>      <span class="number">52</span>      <span class="number">53</span></div><div class="line"><span class="number">61</span>      <span class="number">62</span>      <span class="number">63</span></div><div class="line"><span class="number">71</span>      <span class="number">72</span>      <span class="number">73</span></div><div class="line"><span class="number">81</span>      <span class="number">82</span>      <span class="number">83</span></div><div class="line"><span class="number">91</span>      <span class="number">92</span>      <span class="number">93</span></div><div class="line"></div><div class="line">$ cut <span class="operator">-f</span> <span class="number">7</span>- tab.txt</div><div class="line"><span class="number">17</span>      <span class="number">18</span>      <span class="number">19</span></div><div class="line"><span class="number">27</span>      <span class="number">28</span>      <span class="number">29</span></div><div class="line"><span class="number">37</span>      <span class="number">38</span>      <span class="number">39</span></div><div class="line"><span class="number">47</span>      <span class="number">48</span>      <span class="number">49</span></div><div class="line"><span class="number">57</span>      <span class="number">58</span>      <span class="number">59</span></div><div class="line"><span class="number">67</span>      <span class="number">68</span>      <span class="number">69</span></div><div class="line"><span class="number">77</span>      <span class="number">78</span>      <span class="number">79</span></div><div class="line"><span class="number">87</span>      <span class="number">88</span>      <span class="number">89</span></div><div class="line"><span class="number">97</span>      <span class="number">98</span>      <span class="number">99</span></div></pre></td></tr></table></figure>

<p>When cut multiple fields, the fields are separated by the same delimiter used (indicated by <code>-d</code> field or TAB as the default). If change the output delimiter, it’s not the job of <code>cut</code>, pipe to another program:</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">$ cut <span class="operator">-f</span> <span class="number">3</span>-<span class="number">5</span> tab.txt | sed <span class="string">'s/\t/ /g'</span></div><div class="line"><span class="number">13</span> <span class="number">14</span> <span class="number">15</span></div><div class="line"><span class="number">23</span> <span class="number">24</span> <span class="number">25</span></div><div class="line"><span class="number">33</span> <span class="number">34</span> <span class="number">35</span></div><div class="line"><span class="number">43</span> <span class="number">44</span> <span class="number">45</span></div><div class="line"><span class="number">53</span> <span class="number">54</span> <span class="number">55</span></div><div class="line"><span class="number">63</span> <span class="number">64</span> <span class="number">65</span></div><div class="line"><span class="number">73</span> <span class="number">74</span> <span class="number">75</span></div><div class="line"><span class="number">83</span> <span class="number">84</span> <span class="number">85</span></div><div class="line"><span class="number">93</span> <span class="number">94</span> <span class="number">95</span></div></pre></td></tr></table></figure>


      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2015-09-26T12:00:00.000Z"><a href="/2015/09/26/node-js-crypto-starters/">Sep 26, 2015</a></time>
      
      
  
    <h1 class="title"><a href="/2015/09/26/node-js-crypto-starters/">Node.js Crypto Starters</a></h1>
  

    </header>
    <div class="entry">
      
        <p>Starter for the most common usage.</p>
<p>Create a MD5 hex hash:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">require</span>(<span class="string">'crypto'</span>).createHash(<span class="string">'md5'</span>).update(data, <span class="string">'utf8'</span>).digest(<span class="string">'hex'</span>);</div></pre></td></tr></table></figure>

<p>Create a SHA256 base64 hash:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">require</span>(<span class="string">'crypto'</span>).createHash(<span class="string">'sha256'</span>).update(data, <span class="string">'utf8'</span>).digest(<span class="string">'base64'</span>);</div></pre></td></tr></table></figure>

<p>Calculating the <a href="https://nodejs.org/api/crypto.html#crypto_hash_digest_encoding" target="_blank" rel="external">digest</a> varies with encoding:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">&gt; data = <span class="string">'secret'</span></div><div class="line"><span class="string">'secret'</span></div><div class="line">&gt; <span class="built_in">require</span>(<span class="string">'crypto'</span>).createHash(<span class="string">'sha256'</span>).update(data, <span class="string">'utf8'</span>).digest(<span class="string">'hex'</span>);</div><div class="line"><span class="string">'2bb80d537b1da3e38bd30361aa855686bde0eacd7162fef6a25fe97bf527a25b'</span></div><div class="line">&gt; <span class="built_in">require</span>(<span class="string">'crypto'</span>).createHash(<span class="string">'sha256'</span>).update(data, <span class="string">'utf8'</span>).digest(<span class="string">'base64'</span>);</div><div class="line"><span class="string">'K7gNU3sdo+OL0wNhqoVWhr3g6s1xYv72ol/pe/Unols='</span></div><div class="line">&gt; <span class="built_in">require</span>(<span class="string">'crypto'</span>).createHash(<span class="string">'sha256'</span>).update(data, <span class="string">'utf8'</span>).digest(<span class="string">'binary'</span>);</div><div class="line"><span class="string">'+¸\rS{\u001d£ãÓ\u0003aªV½àêÍqbþö¢_é{õ\'¢['</span></div><div class="line">&gt; <span class="built_in">require</span>(<span class="string">'crypto'</span>).createHash(<span class="string">'sha256'</span>).update(data, <span class="string">'utf8'</span>).digest();</div><div class="line"><span class="xml"><span class="tag">&lt;<span class="title">Buffer</span> <span class="attribute">2b</span> <span class="attribute">b8</span> <span class="attribute">0d</span> <span class="attribute">53</span> <span class="attribute">7b</span> <span class="attribute">1d</span> <span class="attribute">a3</span> <span class="attribute">e3</span> <span class="attribute">8b</span> <span class="attribute">d3</span> <span class="attribute">03</span> <span class="attribute">61</span> <span class="attribute">aa</span> <span class="attribute">85</span> <span class="attribute">56</span> <span class="attribute">86</span> <span class="attribute">bd</span> <span class="attribute">e0</span> <span class="attribute">ea</span> <span class="attribute">cd</span> <span class="attribute">71</span> <span class="attribute">62</span> <span class="attribute">fe</span> <span class="attribute">f6</span> <span class="attribute">a2</span> <span class="attribute">5f</span> <span class="attribute">e9</span> <span class="attribute">7b</span> <span class="attribute">f5</span> <span class="attribute">27</span> <span class="attribute">a2</span> <span class="attribute">5b</span>&gt;</span></span></div><div class="line">&gt; require('crypto').createHash('sha256').update(data, 'utf8').digest().toString();</div><div class="line">'+�\rS{\u001d����\u0003a��V�����qb���_�{�\'�['</div></pre></td></tr></table></figure>

<p>Both <code>hex</code> and <code>base64</code> are commonly used ones.</p>
<p>Needs an <code>input_encoding</code> when <a href="https://nodejs.org/api/crypto.html#crypto_hash_update_data_input_encoding" target="_blank" rel="external">update</a> data, otherwise there will be different results:</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">&gt; data = <span class="string">'秘密'</span></div><div class="line"><span class="string">'秘密'</span></div><div class="line">&gt; require(<span class="string">'crypto'</span>).createHash(<span class="string">'sha256'</span>).update(data, <span class="string">'ascii'</span>).digest(<span class="string">'hex'</span>);</div><div class="line"><span class="string">'7588bc51fd0ff10db9c66549e5cb7969b9f6b7cf3ccee080137a8eb1aa06e718'</span></div><div class="line">&gt; require(<span class="string">'crypto'</span>).createHash(<span class="string">'sha256'</span>).update(data, <span class="string">'utf8'</span>).digest(<span class="string">'hex'</span>);</div><div class="line"><span class="string">'062a2931da683a9897c5a0b597113b1e9fd0d5bfb63e2a5d7c88b724f7f55c02'</span></div><div class="line">&gt; require(<span class="string">'crypto'</span>).createHash(<span class="string">'sha256'</span>).update(data, <span class="string">'binary'</span>).digest(<span class="string">'hex'</span>);</div><div class="line"><span class="string">'7588bc51fd0ff10db9c66549e5cb7969b9f6b7cf3ccee080137a8eb1aa06e718'</span></div><div class="line">&gt; require(<span class="string">'crypto'</span>).createHash(<span class="string">'sha256'</span>).update(data).digest(<span class="string">'hex'</span>);</div><div class="line"><span class="string">'7588bc51fd0ff10db9c66549e5cb7969b9f6b7cf3ccee080137a8eb1aa06e718'</span></div></pre></td></tr></table></figure>

<p>Don’t assume ASCII.</p>
<p>Parameter <code>data</code> must be a string or buffer, otherwise there will be an error:</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">TypeError: Not a string or buffer</div></pre></td></tr></table></figure>


      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2015-09-24T12:00:00.000Z"><a href="/2015/09/24/add-a-custom-domain-to-the-specific-module-of-google-app-engine-managed-vms/">Sep 24, 2015</a></time>
      
      
  
    <h1 class="title"><a href="/2015/09/24/add-a-custom-domain-to-the-specific-module-of-google-app-engine-managed-vms/">Add a Custom Domain to the Specific Module of Google App Engine Managed VMs</a></h1>
  

    </header>
    <div class="entry">
      
        <p>I would like to add a custom domain to a module other than the default one in <a href="https://cloud.google.com/appengine/docs/managed-vms/" target="_blank" rel="external">Google App Engine Managed VMs</a>. For example, I have the following sub-domains:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">Custom domain names | SSL support | Record type | Data                 | Alias</div><div class="line">------------------- | ----------- | ----------- | -------------------- | -----</div><div class="line">api.example.com     | none        | CNAME       | ghs.googlehosted.com | api</div><div class="line">admin.example.com   | none        | CNAME       | ghs.googlehosted.com | admin</div></pre></td></tr></table></figure>

<p>listed in the application console:</p>
<p><a href="https://console.developers.google.com/project/[project]/appengine/settings/domains" target="_blank" rel="external">https://console.developers.google.com/project/[project]/appengine/settings/domains</a></p>
<p>The domain <code>api.example.com</code> points to the default module. And I would like the other domain <code>admin.example.com</code> to point to the module <code>admin</code>. However, by merely adding the custom domain in the settings, both <code>api.example.com</code> and <code>admin.example.com</code> are pointed to the same module: the default module. Then how to point the custom domain and route the traffic to the <code>admin</code> module? The answer is on the <em>dispatch file</em>. But first need to understand the concept of modules in Google App Engine.</p>
<p><img src="/2015/09/24/add-a-custom-domain-to-the-specific-module-of-google-app-engine-managed-vms/modules-hierarchy.png" alt="Google App Engine Module Hierarchy" title="Source: Google App Engine Module Hierarchy"><br><em>Source: <a href="https://cloud.google.com/appengine/docs/go/modules/" target="_blank" rel="external">Google App Engine Docs</a></em></p>
<p>The above chart illustrates the architecture of a Google App Engine application:</p>
<ul>
<li>Application: “An App Engine application is made up of one or more modules”. [<a href="https://cloud.google.com/appengine/docs/go/modules/" target="_blank" rel="external">1</a>]</li>
<li>Module: “Each module consists of source code and configuration files. The files used by a module represents a version of the module. When you deploy a module, you always deploy a specific version of the module.” [<a href="https://cloud.google.com/appengine/docs/go/modules/" target="_blank" rel="external">1</a>] “All module-less apps have been converted to contain a single default module.” [<a href="https://cloud.google.com/appengine/docs/go/modules/" target="_blank" rel="external">1</a>] Every application has a single default module.</li>
<li>Version: “A particular module/version will have one or more instances.”</li>
<li>Instance: “Each instance runs its own separate executable.”</li>
</ul>
<p>Another concept is the resource sharing:</p>
<ul>
<li>“App Engine Modules let developers factor large applications into logical components that can share stateful services and communicate in a secure fashion.” [<a href="https://cloud.google.com/appengine/docs/go/modules/" target="_blank" rel="external">1</a>]</li>
<li>“Stateful services (such as Memcache, Datastore, and Task Queues) are shared by all modules in an application.” [<a href="https://cloud.google.com/appengine/docs/go/modules/" target="_blank" rel="external">1</a>]</li>
</ul>
<p>Remember that <a href="https://cloud.google.com/" target="_blank" rel="external">Google Cloud Platform</a> is project based. If there are a web application and a mobile application, and they are both making requests to another application, the API. Then there should be three projects. However, in this case, both <code>api</code> and <code>admin</code> share the same services, such as the same database and file storage. We should put them together in the same application as separate modules.</p>
<p>With that in mind, how to route requests to a specific module? “Every module, version, and instance has its own unique URI (for example, <code>v1.my-module.my-app.appspot.com</code>). Incoming user requests are routed to an instance of a particular module/version according to <a href="https://cloud.google.com/appengine/docs/go/modules/routing" target="_blank" rel="external">URL addressing conventions and an optional customized dispatch file</a>.” [<a href="https://cloud.google.com/appengine/docs/go/modules/" target="_blank" rel="external">1</a>] Since a custom domain is used, we have to use the customized dispatch file. And this is done by creating a dispatch file <code>dispatch.yml</code> to route requests based on URL patterns.</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"># Dispatch</div><div class="line"><span class="header"># ========</span></div><div class="line">---</div><div class="line">dispatch:</div><div class="line"><span class="code">  - url: '*/favicon.ico'</span></div><div class="line"><span class="code">    module: default</span></div><div class="line"><span class="code">  - url: 'admin.example.com/*'</span></div><div class="line"><span class="code">    module: admin</span></div></pre></td></tr></table></figure>

<p>The <code>application</code> field is not necessary, otherwise, you will get:</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">WARNING: The [application] field is specified <span class="keyword">in</span> file [/home/chao/example/dispatch.yml].</div><div class="line">This field is not used by gcloud and should be removed.</div></pre></td></tr></table></figure>

<p>Glob characters (such as asterisk) can be used, and support up to 10 routing rules.</p>
<p>Deploy the dispatch file is simple:</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ gcloud preview app deploy dispatch.yml</div></pre></td></tr></table></figure>

<p>And it should require almost no time to wait. Once it is ready, the requests sent to <code>admin.example.com</code> will be routed properly to the <code>admin</code> module.</p>

      
    </div>
    <footer>
      
        
          <div class="alignleft">
            <a href="/2015/09/24/add-a-custom-domain-to-the-specific-module-of-google-app-engine-managed-vms/#more" class="more-link">Read More</a>
          </div>
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2015-09-23T12:00:00.000Z"><a href="/2015/09/23/the-first-release-version/">Sep 23, 2015</a></time>
      
      
  
    <h1 class="title"><a href="/2015/09/23/the-first-release-version/">The First Release Version</a></h1>
  

    </header>
    <div class="entry">
      
        <p>When you have a release for the first time, how do you name your release version based on <a href="http://semver.org/" target="_blank" rel="external">SemVer</a>? <code>1.0.0</code>, <code>0.1.0</code> or <code>0.0.1</code>?</p>
<p>I like to start off with <code>0.1.0</code>. Because version <code>0.0.0</code> means there is nothing. Then from nothing to something, that’s breaking change, hence version <code>0.1.0</code>.</p>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  

  <nav id="pagination">
  
  
    <a href="/archives/page/2/" class="alignright next">Next</a>
  
  <div class="clearfix"></div>
</nav>
</div></div>
    <aside id="sidebar" class="alignright">
  <div class="search">
  <form action="//google.com/search" method="get" accept-charset="utf-8">
    <input type="search" name="q" results="0" placeholder="Search">
    <input type="hidden" name="q" value="site:realguess.net">
  </form>
</div>

  
<div class="widget tag">
  <h3 class="title">Categories</h3>
  <ul class="entry">
  
    <li><a href="/categories/cloud/">Cloud</a><small>11</small></li>
  
    <li><a href="/categories/coding/">Coding</a><small>5</small></li>
  
    <li><a href="/categories/communication/">Communication</a><small>1</small></li>
  
    <li><a href="/categories/devops/">DevOps</a><small>9</small></li>
  
    <li><a href="/categories/javascript/">JavaScript</a><small>16</small></li>
  
    <li><a href="/categories/linux/">Linux</a><small>4</small></li>
  
    <li><a href="/categories/node-js-and-io-js/">Node.js and io.js</a><small>0</small></li>
  
    <li><a href="/categories/pathfinder/">Pathfinder</a><small>1</small></li>
  
    <li><a href="/categories/productivity/">Productivity</a><small>1</small></li>
  
    <li><a href="/categories/programming/">Programming</a><small>0</small></li>
  
    <li><a href="/categories/security/">Security</a><small>1</small></li>
  
    <li><a href="/categories/starters/">Starters</a><small>0</small></li>
  
    <li><a href="/categories/statistics/">Statistics</a><small>5</small></li>
  
    <li><a href="/categories/test/">Test</a><small>2</small></li>
  
    <li><a href="/categories/tools/">Tools</a><small>19</small></li>
  
    <li><a href="/categories/travel/">Travel</a><small>1</small></li>
  
  </ul>
</div>


  
<div class="widget tag">
  <h3 class="title">Tags</h3>
  <ul class="entry">
  
    <li><a href="/tags/2013/">2013</a><small>1</small></li>
  
    <li><a href="/tags/2014/">2014</a><small>3</small></li>
  
    <li><a href="/tags/2015/">2015</a><small>1</small></li>
  
    <li><a href="/tags/abraham-lincoln/">abraham-lincoln</a><small>1</small></li>
  
    <li><a href="/tags/absolute-path/">absolute-path</a><small>1</small></li>
  
    <li><a href="/tags/accessor-property/">accessor-property</a><small>1</small></li>
  
    <li><a href="/tags/aftereach/">aftereach</a><small>1</small></li>
  
    <li><a href="/tags/agenda/">agenda</a><small>1</small></li>
  
    <li><a href="/tags/alexa/">alexa</a><small>3</small></li>
  
    <li><a href="/tags/alias/">alias</a><small>1</small></li>
  
    <li><a href="/tags/amazon/">amazon</a><small>6</small></li>
  
    <li><a href="/tags/amazon-s3/">amazon-s3</a><small>2</small></li>
  
    <li><a href="/tags/amazon-s3api/">amazon-s3api</a><small>1</small></li>
  
    <li><a href="/tags/amazon-sqs/">amazon-sqs</a><small>1</small></li>
  
    <li><a href="/tags/amtrak/">amtrak</a><small>1</small></li>
  
    <li><a href="/tags/android/">android</a><small>1</small></li>
  
    <li><a href="/tags/android-4-3/">android-4.3</a><small>1</small></li>
  
    <li><a href="/tags/anonymous/">anonymous</a><small>1</small></li>
  
    <li><a href="/tags/anonymous-function/">anonymous-function</a><small>1</small></li>
  
    <li><a href="/tags/anonymous-like/">anonymous-like</a><small>1</small></li>
  
    <li><a href="/tags/anonymous-login/">anonymous-login</a><small>1</small></li>
  
    <li><a href="/tags/ansible/">ansible</a><small>1</small></li>
  
    <li><a href="/tags/app-engine/">app-engine</a><small>2</small></li>
  
    <li><a href="/tags/apple/">apple</a><small>1</small></li>
  
    <li><a href="/tags/apt-get/">apt-get</a><small>2</small></li>
  
    <li><a href="/tags/array/">array</a><small>3</small></li>
  
    <li><a href="/tags/async/">async</a><small>1</small></li>
  
    <li><a href="/tags/asynchronous/">asynchronous</a><small>2</small></li>
  
    <li><a href="/tags/automated-build/">automated-build</a><small>1</small></li>
  
    <li><a href="/tags/automatic-link/">automatic-link</a><small>1</small></li>
  
    <li><a href="/tags/automation/">automation</a><small>2</small></li>
  
    <li><a href="/tags/awk/">awk</a><small>1</small></li>
  
    <li><a href="/tags/aws/">aws</a><small>8</small></li>
  
    <li><a href="/tags/aws-cli/">aws-cli</a><small>4</small></li>
  
    <li><a href="/tags/aws-sdk/">aws-sdk</a><small>1</small></li>
  
    <li><a href="/tags/bash/">bash</a><small>3</small></li>
  
    <li><a href="/tags/beforeeach/">beforeeach</a><small>1</small></li>
  
    <li><a href="/tags/best-practice/">best-practice</a><small>2</small></li>
  
    <li><a href="/tags/big-apple/">big-apple</a><small>1</small></li>
  
    <li><a href="/tags/big-easy/">big-easy</a><small>1</small></li>
  
    <li><a href="/tags/big-number/">big-number</a><small>1</small></li>
  
    <li><a href="/tags/bind/">bind</a><small>1</small></li>
  
    <li><a href="/tags/bind9/">bind9</a><small>1</small></li>
  
    <li><a href="/tags/binding/">binding</a><small>1</small></li>
  
    <li><a href="/tags/bintray/">bintray</a><small>1</small></li>
  
    <li><a href="/tags/bitbucket/">bitbucket</a><small>2</small></li>
  
    <li><a href="/tags/blog/">blog</a><small>4</small></li>
  
    <li><a href="/tags/boss/">boss</a><small>1</small></li>
  
    <li><a href="/tags/brace-expansion/">brace-expansion</a><small>1</small></li>
  
    <li><a href="/tags/bret-victor/">bret-victor</a><small>1</small></li>
  
    <li><a href="/tags/browser/">browser</a><small>1</small></li>
  
    <li><a href="/tags/browser-sync/">browser-sync</a><small>1</small></li>
  
    <li><a href="/tags/buffer/">buffer</a><small>1</small></li>
  
    <li><a href="/tags/busybox/">busybox</a><small>1</small></li>
  
    <li><a href="/tags/byobu/">byobu</a><small>1</small></li>
  
    <li><a href="/tags/cat/">cat</a><small>1</small></li>
  
    <li><a href="/tags/chai/">chai</a><small>1</small></li>
  
    <li><a href="/tags/changelog/">changelog</a><small>1</small></li>
  
    <li><a href="/tags/chat/">chat</a><small>1</small></li>
  
    <li><a href="/tags/chrome/">chrome</a><small>1</small></li>
  
    <li><a href="/tags/chunghwa-telecom/">chunghwa-telecom</a><small>1</small></li>
  
    <li><a href="/tags/cli/">cli</a><small>10</small></li>
  
    <li><a href="/tags/cloud-storage/">cloud-storage</a><small>1</small></li>
  
    <li><a href="/tags/cloud9/">cloud9</a><small>1</small></li>
  
    <li><a href="/tags/cm/">cm</a><small>1</small></li>
  
    <li><a href="/tags/cname/">cname</a><small>1</small></li>
  
    <li><a href="/tags/cocoon/">cocoon</a><small>1</small></li>
  
    <li><a href="/tags/coding-style/">coding-style</a><small>4</small></li>
  
    <li><a href="/tags/coffeelint/">coffeelint</a><small>1</small></li>
  
    <li><a href="/tags/coffeescript/">coffeescript</a><small>7</small></li>
  
    <li><a href="/tags/color/">color</a><small>1</small></li>
  
    <li><a href="/tags/comcast/">comcast</a><small>1</small></li>
  
    <li><a href="/tags/command-history/">command-history</a><small>1</small></li>
  
    <li><a href="/tags/command-line/">command-line</a><small>10</small></li>
  
    <li><a href="/tags/command-line-interface/">command-line-interface</a><small>0</small></li>
  
    <li><a href="/tags/compare/">compare</a><small>1</small></li>
  
    <li><a href="/tags/compose/">compose</a><small>1</small></li>
  
    <li><a href="/tags/configuration/">configuration</a><small>1</small></li>
  
    <li><a href="/tags/configuration-management/">configuration-management</a><small>1</small></li>
  
    <li><a href="/tags/console/">console</a><small>1</small></li>
  
    <li><a href="/tags/container/">container</a><small>1</small></li>
  
    <li><a href="/tags/content-type/">content-type</a><small>1</small></li>
  
    <li><a href="/tags/context/">context</a><small>2</small></li>
  
    <li><a href="/tags/control-character/">control-character</a><small>1</small></li>
  
    <li><a href="/tags/coreutils/">coreutils</a><small>1</small></li>
  
    <li><a href="/tags/cors/">cors</a><small>1</small></li>
  
    <li><a href="/tags/create-indexes/">create-indexes</a><small>1</small></li>
  
    <li><a href="/tags/crescent/">crescent</a><small>1</small></li>
  
    <li><a href="/tags/crlf/">crlf</a><small>1</small></li>
  
    <li><a href="/tags/cron/">cron</a><small>2</small></li>
  
    <li><a href="/tags/crontab/">crontab</a><small>1</small></li>
  
    <li><a href="/tags/crypto/">crypto</a><small>2</small></li>
  
    <li><a href="/tags/cryptography/">cryptography</a><small>1</small></li>
  
    <li><a href="/tags/curl/">curl</a><small>1</small></li>
  
    <li><a href="/tags/custom-domain/">custom-domain</a><small>2</small></li>
  
    <li><a href="/tags/custom-generator/">custom-generator</a><small>1</small></li>
  
    <li><a href="/tags/cut/">cut</a><small>1</small></li>
  
    <li><a href="/tags/cwd/">cwd</a><small>1</small></li>
  
    <li><a href="/tags/data-volume/">data-volume</a><small>1</small></li>
  
    <li><a href="/tags/database/">database</a><small>1</small></li>
  
    <li><a href="/tags/datagram/">datagram</a><small>1</small></li>
  
    <li><a href="/tags/dataset/">dataset</a><small>1</small></li>
  
    <li><a href="/tags/datastore/">datastore</a><small>1</small></li>
  
    <li><a href="/tags/date/">date</a><small>1</small></li>
  
    <li><a href="/tags/db/">db</a><small>1</small></li>
  
    <li><a href="/tags/debian/">debian</a><small>2</small></li>
  
    <li><a href="/tags/debian-jessie/">debian-jessie</a><small>1</small></li>
  
    <li><a href="/tags/december/">december</a><small>1</small></li>
  
    <li><a href="/tags/delimiter/">delimiter</a><small>1</small></li>
  
    <li><a href="/tags/dependency/">dependency</a><small>2</small></li>
  
    <li><a href="/tags/development/">development</a><small>1</small></li>
  
    <li><a href="/tags/development-environment/">development-environment</a><small>1</small></li>
  
    <li><a href="/tags/diff/">diff</a><small>2</small></li>
  
    <li><a href="/tags/digest/">digest</a><small>1</small></li>
  
    <li><a href="/tags/directives-end-marker/">directives-end-marker</a><small>1</small></li>
  
    <li><a href="/tags/directory/">directory</a><small>1</small></li>
  
    <li><a href="/tags/dirname/">dirname</a><small>1</small></li>
  
    <li><a href="/tags/dispatch/">dispatch</a><small>1</small></li>
  
    <li><a href="/tags/distributed/">distributed</a><small>1</small></li>
  
    <li><a href="/tags/distributed-team/">distributed-team</a><small>1</small></li>
  
    <li><a href="/tags/dns/">dns</a><small>3</small></li>
  
    <li><a href="/tags/dns114/">dns114</a><small>1</small></li>
  
    <li><a href="/tags/docco/">docco</a><small>1</small></li>
  
    <li><a href="/tags/docker/">docker</a><small>8</small></li>
  
    <li><a href="/tags/dockerfile/">dockerfile</a><small>1</small></li>
  
    <li><a href="/tags/domain/">domain</a><small>1</small></li>
  
    <li><a href="/tags/dsn-server/">dsn-server</a><small>1</small></li>
  
    <li><a href="/tags/duplication/">duplication</a><small>1</small></li>
  
    <li><a href="/tags/ec2/">ec2</a><small>3</small></li>
  
    <li><a href="/tags/echo/">echo</a><small>2</small></li>
  
    <li><a href="/tags/ecmascript-harmony/">ecmascript-harmony</a><small>1</small></li>
  
    <li><a href="/tags/encryption/">encryption</a><small>1</small></li>
  
    <li><a href="/tags/environment/">environment</a><small>3</small></li>
  
    <li><a href="/tags/environment-variable/">environment-variable</a><small>2</small></li>
  
    <li><a href="/tags/eol/">eol</a><small>1</small></li>
  
    <li><a href="/tags/ephemeral/">ephemeral</a><small>1</small></li>
  
    <li><a href="/tags/explicit-document/">explicit-document</a><small>1</small></li>
  
    <li><a href="/tags/express/">express</a><small>3</small></li>
  
    <li><a href="/tags/extended-pattern-matching/">extended-pattern-matching</a><small>1</small></li>
  
    <li><a href="/tags/extglob/">extglob</a><small>1</small></li>
  
    <li><a href="/tags/facebook/">facebook</a><small>1</small></li>
  
    <li><a href="/tags/field/">field</a><small>1</small></li>
  
    <li><a href="/tags/file-system/">file-system</a><small>1</small></li>
  
    <li><a href="/tags/filename/">filename</a><small>1</small></li>
  
    <li><a href="/tags/firewall/">firewall</a><small>1</small></li>
  
    <li><a href="/tags/folder/">folder</a><small>1</small></li>
  
    <li><a href="/tags/fs/">fs</a><small>1</small></li>
  
    <li><a href="/tags/function/">function</a><small>4</small></li>
  
    <li><a href="/tags/function-declaration/">function-declaration</a><small>2</small></li>
  
    <li><a href="/tags/function-expression/">function-expression</a><small>3</small></li>
  
    <li><a href="/tags/function-innovation/">function-innovation</a><small>1</small></li>
  
    <li><a href="/tags/gae/">gae</a><small>1</small></li>
  
    <li><a href="/tags/gce/">gce</a><small>2</small></li>
  
    <li><a href="/tags/gcloud/">gcloud</a><small>4</small></li>
  
    <li><a href="/tags/generator/">generator</a><small>1</small></li>
  
    <li><a href="/tags/get/">get</a><small>1</small></li>
  
    <li><a href="/tags/getter/">getter</a><small>2</small></li>
  
    <li><a href="/tags/ghost/">ghost</a><small>1</small></li>
  
    <li><a href="/tags/git/">git</a><small>3</small></li>
  
    <li><a href="/tags/git-branch/">git-branch</a><small>1</small></li>
  
    <li><a href="/tags/github/">github</a><small>4</small></li>
  
    <li><a href="/tags/github-pages/">github-pages</a><small>1</small></li>
  
    <li><a href="/tags/glob/">glob</a><small>1</small></li>
  
    <li><a href="/tags/gnome/">gnome</a><small>1</small></li>
  
    <li><a href="/tags/gnu/">gnu</a><small>1</small></li>
  
    <li><a href="/tags/goal/">goal</a><small>1</small></li>
  
    <li><a href="/tags/google-analytics/">google-analytics</a><small>4</small></li>
  
    <li><a href="/tags/google-cloud-datastore/">google-cloud-datastore</a><small>3</small></li>
  
    <li><a href="/tags/google-cloud-platform/">google-cloud-platform</a><small>2</small></li>
  
    <li><a href="/tags/google-cloud-pubsub/">google-cloud-pubsub</a><small>1</small></li>
  
    <li><a href="/tags/google-compute-engine/">google-compute-engine</a><small>3</small></li>
  
    <li><a href="/tags/google-keep/">google-keep</a><small>1</small></li>
  
    <li><a href="/tags/google-trends/">google-trends</a><small>1</small></li>
  
    <li><a href="/tags/groupthink/">groupthink</a><small>1</small></li>
  
    <li><a href="/tags/grunt/">grunt</a><small>1</small></li>
  
    <li><a href="/tags/grunt-contrib-jshint/">grunt-contrib-jshint</a><small>1</small></li>
  
    <li><a href="/tags/grunt-contrib-watch/">grunt-contrib-watch</a><small>1</small></li>
  
    <li><a href="/tags/guard/">guard</a><small>1</small></li>
  
    <li><a href="/tags/gulp/">gulp</a><small>2</small></li>
  
    <li><a href="/tags/hackathon/">hackathon</a><small>1</small></li>
  
    <li><a href="/tags/head/">head</a><small>2</small></li>
  
    <li><a href="/tags/heartbleed/">heartbleed</a><small>1</small></li>
  
    <li><a href="/tags/hexo/">hexo</a><small>1</small></li>
  
    <li><a href="/tags/hipchat/">hipchat</a><small>1</small></li>
  
    <li><a href="/tags/hong-kong/">hong-kong</a><small>1</small></li>
  
    <li><a href="/tags/host/">host</a><small>1</small></li>
  
    <li><a href="/tags/hosted-zone/">hosted-zone</a><small>1</small></li>
  
    <li><a href="/tags/hosts/">hosts</a><small>1</small></li>
  
    <li><a href="/tags/hotlinking/">hotlinking</a><small>1</small></li>
  
    <li><a href="/tags/http/">http</a><small>4</small></li>
  
    <li><a href="/tags/http-server/">http-server</a><small>1</small></li>
  
    <li><a href="/tags/id/">id</a><small>1</small></li>
  
    <li><a href="/tags/ide/">ide</a><small>1</small></li>
  
    <li><a href="/tags/identifier/">identifier</a><small>1</small></li>
  
    <li><a href="/tags/iife/">iife</a><small>2</small></li>
  
    <li><a href="/tags/imessage/">imessage</a><small>1</small></li>
  
    <li><a href="/tags/immediately-invoked-function-expression/">immediately-invoked-function-expression</a><small>2</small></li>
  
    <li><a href="/tags/index/">index</a><small>1</small></li>
  
    <li><a href="/tags/inheritance/">inheritance</a><small>1</small></li>
  
    <li><a href="/tags/install/">install</a><small>8</small></li>
  
    <li><a href="/tags/instance/">instance</a><small>1</small></li>
  
    <li><a href="/tags/interactive/">interactive</a><small>2</small></li>
  
    <li><a href="/tags/internet-speed/">internet-speed</a><small>1</small></li>
  
    <li><a href="/tags/interpreter/">interpreter</a><small>1</small></li>
  
    <li><a href="/tags/iojs/">iojs</a><small>3</small></li>
  
    <li><a href="/tags/ip-address/">ip-address</a><small>3</small></li>
  
    <li><a href="/tags/january/">january</a><small>1</small></li>
  
    <li><a href="/tags/jasmine/">jasmine</a><small>1</small></li>
  
    <li><a href="/tags/javascript/">javascript</a><small>12</small></li>
  
    <li><a href="/tags/jelly-bean/">jelly-bean</a><small>1</small></li>
  
    <li><a href="/tags/join/">join</a><small>1</small></li>
  
    <li><a href="/tags/jq/">jq</a><small>4</small></li>
  
    <li><a href="/tags/jshint/">jshint</a><small>1</small></li>
  
    <li><a href="/tags/json/">json</a><small>4</small></li>
  
    <li><a href="/tags/koa/">koa</a><small>7</small></li>
  
    <li><a href="/tags/koa-compose/">koa-compose</a><small>1</small></li>
  
    <li><a href="/tags/koa-router/">koa-router</a><small>2</small></li>
  
    <li><a href="/tags/lean/">lean</a><small>1</small></li>
  
    <li><a href="/tags/lean-coffee/">lean-coffee</a><small>1</small></li>
  
    <li><a href="/tags/lean-startup/">lean-startup</a><small>1</small></li>
  
    <li><a href="/tags/left-to-right-mark/">left-to-right-mark</a><small>1</small></li>
  
    <li><a href="/tags/lf/">lf</a><small>1</small></li>
  
    <li><a href="/tags/libssl/">libssl</a><small>1</small></li>
  
    <li><a href="/tags/license/">license</a><small>1</small></li>
  
    <li><a href="/tags/like-button/">like-button</a><small>1</small></li>
  
    <li><a href="/tags/line-divider/">line-divider</a><small>1</small></li>
  
    <li><a href="/tags/line-ending/">line-ending</a><small>1</small></li>
  
    <li><a href="/tags/linux/">linux</a><small>3</small></li>
  
    <li><a href="/tags/listobjects/">listobjects</a><small>1</small></li>
  
    <li><a href="/tags/livereload/">livereload</a><small>2</small></li>
  
    <li><a href="/tags/load/">load</a><small>1</small></li>
  
    <li><a href="/tags/lock/">lock</a><small>1</small></li>
  
    <li><a href="/tags/lodash/">lodash</a><small>1</small></li>
  
    <li><a href="/tags/log/">log</a><small>1</small></li>
  
    <li><a href="/tags/lorem-ipsum/">lorem-ipsum</a><small>1</small></li>
  
    <li><a href="/tags/m101/">m101</a><small>1</small></li>
  
    <li><a href="/tags/managed-vms/">managed-vms</a><small>2</small></li>
  
    <li><a href="/tags/markdown/">markdown</a><small>2</small></li>
  
    <li><a href="/tags/md5/">md5</a><small>1</small></li>
  
    <li><a href="/tags/meeting/">meeting</a><small>1</small></li>
  
    <li><a href="/tags/messaging/">messaging</a><small>1</small></li>
  
    <li><a href="/tags/metric/">metric</a><small>4</small></li>
  
    <li><a href="/tags/mi3/">mi3</a><small>1</small></li>
  
    <li><a href="/tags/middleware/">middleware</a><small>2</small></li>
  
    <li><a href="/tags/minimatch/">minimatch</a><small>1</small></li>
  
    <li><a href="/tags/mocha/">mocha</a><small>3</small></li>
  
    <li><a href="/tags/module/">module</a><small>2</small></li>
  
    <li><a href="/tags/module-caching/">module-caching</a><small>1</small></li>
  
    <li><a href="/tags/mongodb/">mongodb</a><small>1</small></li>
  
    <li><a href="/tags/mongoexport/">mongoexport</a><small>1</small></li>
  
    <li><a href="/tags/msiexec/">msiexec</a><small>1</small></li>
  
    <li><a href="/tags/multi-parts/">multi-parts</a><small>1</small></li>
  
    <li><a href="/tags/multiple/">multiple</a><small>2</small></li>
  
    <li><a href="/tags/named-function/">named-function</a><small>1</small></li>
  
    <li><a href="/tags/nb/">nb</a><small>1</small></li>
  
    <li><a href="/tags/network/">network</a><small>1</small></li>
  
    <li><a href="/tags/new-orleans/">new-orleans</a><small>1</small></li>
  
    <li><a href="/tags/new-york/">new-york</a><small>1</small></li>
  
    <li><a href="/tags/nginx/">nginx</a><small>2</small></li>
  
    <li><a href="/tags/node/">node</a><small>24</small></li>
  
    <li><a href="/tags/node-version-manager/">node-version-manager</a><small>1</small></li>
  
    <li><a href="/tags/nodemon/">nodemon</a><small>1</small></li>
  
    <li><a href="/tags/normalization/">normalization</a><small>1</small></li>
  
    <li><a href="/tags/nota-bene/">nota-bene</a><small>1</small></li>
  
    <li><a href="/tags/note-well/">note-well</a><small>1</small></li>
  
    <li><a href="/tags/november/">november</a><small>1</small></li>
  
    <li><a href="/tags/npm/">npm</a><small>3</small></li>
  
    <li><a href="/tags/npm-module/">npm-module</a><small>1</small></li>
  
    <li><a href="/tags/null/">null</a><small>1</small></li>
  
    <li><a href="/tags/nvm/">nvm</a><small>1</small></li>
  
    <li><a href="/tags/object/">object</a><small>3</small></li>
  
    <li><a href="/tags/object-attributes/">object-attributes</a><small>1</small></li>
  
    <li><a href="/tags/one-liner/">one-liner</a><small>1</small></li>
  
    <li><a href="/tags/openssl/">openssl</a><small>2</small></li>
  
    <li><a href="/tags/order/">order</a><small>1</small></li>
  
    <li><a href="/tags/outdated/">outdated</a><small>1</small></li>
  
    <li><a href="/tags/package/">package</a><small>1</small></li>
  
    <li><a href="/tags/package-json/">package.json</a><small>1</small></li>
  
    <li><a href="/tags/pageview/">pageview</a><small>4</small></li>
  
    <li><a href="/tags/parseint/">parseint</a><small>1</small></li>
  
    <li><a href="/tags/part/">part</a><small>1</small></li>
  
    <li><a href="/tags/path/">path</a><small>4</small></li>
  
    <li><a href="/tags/pattern-matching/">pattern-matching</a><small>1</small></li>
  
    <li><a href="/tags/ping/">ping</a><small>1</small></li>
  
    <li><a href="/tags/pipe/">pipe</a><small>1</small></li>
  
    <li><a href="/tags/pm2/">pm2</a><small>1</small></li>
  
    <li><a href="/tags/port/">port</a><small>3</small></li>
  
    <li><a href="/tags/port-forwarding/">port-forwarding</a><small>1</small></li>
  
    <li><a href="/tags/prefix/">prefix</a><small>1</small></li>
  
    <li><a href="/tags/preinstall/">preinstall</a><small>1</small></li>
  
    <li><a href="/tags/principle/">principle</a><small>1</small></li>
  
    <li><a href="/tags/process/">process</a><small>1</small></li>
  
    <li><a href="/tags/profile/">profile</a><small>1</small></li>
  
    <li><a href="/tags/programming-style/">programming-style</a><small>0</small></li>
  
    <li><a href="/tags/protocol/">protocol</a><small>1</small></li>
  
    <li><a href="/tags/provision/">provision</a><small>1</small></li>
  
    <li><a href="/tags/proxy/">proxy</a><small>1</small></li>
  
    <li><a href="/tags/python/">python</a><small>1</small></li>
  
    <li><a href="/tags/query-parameter/">query-parameter</a><small>1</small></li>
  
    <li><a href="/tags/queue/">queue</a><small>1</small></li>
  
    <li><a href="/tags/random/">random</a><small>2</small></li>
  
    <li><a href="/tags/rawgit/">rawgit</a><small>1</small></li>
  
    <li><a href="/tags/read/">read</a><small>1</small></li>
  
    <li><a href="/tags/reboot/">reboot</a><small>2</small></li>
  
    <li><a href="/tags/record-set/">record-set</a><small>1</small></li>
  
    <li><a href="/tags/redis/">redis</a><small>1</small></li>
  
    <li><a href="/tags/relative-path/">relative-path</a><small>1</small></li>
  
    <li><a href="/tags/release/">release</a><small>1</small></li>
  
    <li><a href="/tags/remote-working/">remote-working</a><small>1</small></li>
  
    <li><a href="/tags/repl/">repl</a><small>1</small></li>
  
    <li><a href="/tags/require/">require</a><small>2</small></li>
  
    <li><a href="/tags/responsibility/">responsibility</a><small>1</small></li>
  
    <li><a href="/tags/restart/">restart</a><small>1</small></li>
  
    <li><a href="/tags/rlwrap/">rlwrap</a><small>1</small></li>
  
    <li><a href="/tags/route-53/">route-53</a><small>2</small></li>
  
    <li><a href="/tags/routing/">routing</a><small>2</small></li>
  
    <li><a href="/tags/ruby/">ruby</a><small>1</small></li>
  
    <li><a href="/tags/san-francisco/">san-francisco</a><small>1</small></li>
  
    <li><a href="/tags/save/">save</a><small>1</small></li>
  
    <li><a href="/tags/scaffolding/">scaffolding</a><small>1</small></li>
  
    <li><a href="/tags/script/">script</a><small>1</small></li>
  
    <li><a href="/tags/search/">search</a><small>1</small></li>
  
    <li><a href="/tags/search-term/">search-term</a><small>1</small></li>
  
    <li><a href="/tags/section/">section</a><small>1</small></li>
  
    <li><a href="/tags/security/">security</a><small>1</small></li>
  
    <li><a href="/tags/security-group/">security-group</a><small>2</small></li>
  
    <li><a href="/tags/sed/">sed</a><small>1</small></li>
  
    <li><a href="/tags/semantics/">semantics</a><small>1</small></li>
  
    <li><a href="/tags/semver/">semver</a><small>2</small></li>
  
    <li><a href="/tags/seq/">seq</a><small>1</small></li>
  
    <li><a href="/tags/serialization/">serialization</a><small>1</small></li>
  
    <li><a href="/tags/server/">server</a><small>2</small></li>
  
    <li><a href="/tags/setter/">setter</a><small>2</small></li>
  
    <li><a href="/tags/settings/">settings</a><small>1</small></li>
  
    <li><a href="/tags/setup/">setup</a><small>2</small></li>
  
    <li><a href="/tags/sha256/">sha256</a><small>1</small></li>
  
    <li><a href="/tags/shabang/">shabang</a><small>1</small></li>
  
    <li><a href="/tags/sharing/">sharing</a><small>1</small></li>
  
    <li><a href="/tags/shebang/">shebang</a><small>1</small></li>
  
    <li><a href="/tags/shell/">shell</a><small>3</small></li>
  
    <li><a href="/tags/shell-expansion/">shell-expansion</a><small>1</small></li>
  
    <li><a href="/tags/shell-script/">shell-script</a><small>1</small></li>
  
    <li><a href="/tags/shellshock/">shellshock</a><small>1</small></li>
  
    <li><a href="/tags/shopt/">shopt</a><small>1</small></li>
  
    <li><a href="/tags/socket-io/">socket-io</a><small>1</small></li>
  
    <li><a href="/tags/source-maps/">source-maps</a><small>1</small></li>
  
    <li><a href="/tags/speed-test/">speed-test</a><small>1</small></li>
  
    <li><a href="/tags/split/">split</a><small>2</small></li>
  
    <li><a href="/tags/ssh/">ssh</a><small>4</small></li>
  
    <li><a href="/tags/ssh-copy-id/">ssh-copy-id</a><small>1</small></li>
  
    <li><a href="/tags/sshuttle/">sshuttle</a><small>1</small></li>
  
    <li><a href="/tags/starter/">starter</a><small>5</small></li>
  
    <li><a href="/tags/startup/">startup</a><small>2</small></li>
  
    <li><a href="/tags/state/">state</a><small>1</small></li>
  
    <li><a href="/tags/stats/">stats</a><small>5</small></li>
  
    <li><a href="/tags/stdin/">stdin</a><small>1</small></li>
  
    <li><a href="/tags/stream/">stream</a><small>1</small></li>
  
    <li><a href="/tags/string/">string</a><small>1</small></li>
  
    <li><a href="/tags/stringify/">stringify</a><small>1</small></li>
  
    <li><a href="/tags/structure/">structure</a><small>1</small></li>
  
    <li><a href="/tags/subscription/">subscription</a><small>1</small></li>
  
    <li><a href="/tags/success/">success</a><small>1</small></li>
  
    <li><a href="/tags/sudo/">sudo</a><small>1</small></li>
  
    <li><a href="/tags/supertest/">supertest</a><small>1</small></li>
  
    <li><a href="/tags/symbolic-link/">symbolic-link</a><small>1</small></li>
  
    <li><a href="/tags/symlink/">symlink</a><small>1</small></li>
  
    <li><a href="/tags/sync/">sync</a><small>1</small></li>
  
    <li><a href="/tags/synchronous/">synchronous</a><small>2</small></li>
  
    <li><a href="/tags/systemd/">systemd</a><small>1</small></li>
  
    <li><a href="/tags/taipei/">taipei</a><small>1</small></li>
  
    <li><a href="/tags/taiwan/">taiwan</a><small>1</small></li>
  
    <li><a href="/tags/task/">task</a><small>1</small></li>
  
    <li><a href="/tags/tcdisrupt/">tcdisrupt</a><small>1</small></li>
  
    <li><a href="/tags/teardown/">teardown</a><small>1</small></li>
  
    <li><a href="/tags/techcrunch/">techcrunch</a><small>1</small></li>
  
    <li><a href="/tags/template/">template</a><small>2</small></li>
  
    <li><a href="/tags/terminal/">terminal</a><small>1</small></li>
  
    <li><a href="/tags/test/">test</a><small>1</small></li>
  
    <li><a href="/tags/testing/">testing</a><small>1</small></li>
  
    <li><a href="/tags/texting/">texting</a><small>1</small></li>
  
    <li><a href="/tags/this/">this</a><small>1</small></li>
  
    <li><a href="/tags/time-zone/">time-zone</a><small>1</small></li>
  
    <li><a href="/tags/tmux/">tmux</a><small>1</small></li>
  
    <li><a href="/tags/todo/">todo</a><small>1</small></li>
  
    <li><a href="/tags/topic/">topic</a><small>2</small></li>
  
    <li><a href="/tags/train/">train</a><small>1</small></li>
  
    <li><a href="/tags/travel/">travel</a><small>1</small></li>
  
    <li><a href="/tags/trello/">trello</a><small>1</small></li>
  
    <li><a href="/tags/trigger/">trigger</a><small>1</small></li>
  
    <li><a href="/tags/trusty/">trusty</a><small>1</small></li>
  
    <li><a href="/tags/tumblr/">tumblr</a><small>1</small></li>
  
    <li><a href="/tags/twitter/">twitter</a><small>1</small></li>
  
    <li><a href="/tags/ubuntu/">ubuntu</a><small>5</small></li>
  
    <li><a href="/tags/uglifyjs/">uglifyjs</a><small>1</small></li>
  
    <li><a href="/tags/underscore/">underscore</a><small>1</small></li>
  
    <li><a href="/tags/unicode/">unicode</a><small>1</small></li>
  
    <li><a href="/tags/unique-visitor/">unique-visitor</a><small>4</small></li>
  
    <li><a href="/tags/united-states/">united-states</a><small>1</small></li>
  
    <li><a href="/tags/unix/">unix</a><small>1</small></li>
  
    <li><a href="/tags/unix-philosophy/">unix-philosophy</a><small>1</small></li>
  
    <li><a href="/tags/update/">update</a><small>2</small></li>
  
    <li><a href="/tags/upgrade/">upgrade</a><small>2</small></li>
  
    <li><a href="/tags/upload/">upload</a><small>1</small></li>
  
    <li><a href="/tags/upstart/">upstart</a><small>1</small></li>
  
    <li><a href="/tags/url/">url</a><small>1</small></li>
  
    <li><a href="/tags/username/">username</a><small>1</small></li>
  
    <li><a href="/tags/vagrant/">vagrant</a><small>8</small></li>
  
    <li><a href="/tags/vagrant-box/">vagrant-box</a><small>1</small></li>
  
    <li><a href="/tags/vagrant-google/">vagrant-google</a><small>1</small></li>
  
    <li><a href="/tags/vagrant-plugin/">vagrant-plugin</a><small>1</small></li>
  
    <li><a href="/tags/validation/">validation</a><small>1</small></li>
  
    <li><a href="/tags/version/">version</a><small>3</small></li>
  
    <li><a href="/tags/video/">video</a><small>1</small></li>
  
    <li><a href="/tags/vim/">vim</a><small>3</small></li>
  
    <li><a href="/tags/vimdiff/">vimdiff</a><small>1</small></li>
  
    <li><a href="/tags/vimeo/">vimeo</a><small>1</small></li>
  
    <li><a href="/tags/virtualbox/">virtualbox</a><small>1</small></li>
  
    <li><a href="/tags/visit/">visit</a><small>4</small></li>
  
    <li><a href="/tags/vivid/">vivid</a><small>1</small></li>
  
    <li><a href="/tags/vpn/">vpn</a><small>1</small></li>
  
    <li><a href="/tags/vulnerability/">vulnerability</a><small>1</small></li>
  
    <li><a href="/tags/web-framework/">web-framework</a><small>1</small></li>
  
    <li><a href="/tags/web-server/">web-server</a><small>1</small></li>
  
    <li><a href="/tags/webhook/">webhook</a><small>1</small></li>
  
    <li><a href="/tags/windows/">windows</a><small>2</small></li>
  
    <li><a href="/tags/workflow/">workflow</a><small>1</small></li>
  
    <li><a href="/tags/xiaomi/">xiaomi</a><small>1</small></li>
  
    <li><a href="/tags/yaml/">yaml</a><small>1</small></li>
  
    <li><a href="/tags/yeoman/">yeoman</a><small>1</small></li>
  
    <li><a href="/tags/yield/">yield</a><small>1</small></li>
  
    <li><a href="/tags/zone-apex/">zone-apex</a><small>1</small></li>
  
    <li><a href="/tags/中華電信/">中華電信</a><small>1</small></li>
  
    <li><a href="/tags/小米/">小米</a><small>1</small></li>
  
    <li><a href="/tags/小米手机/">小米手机</a><small>1</small></li>
  
  </ul>
</div>

</aside>
    <div class="clearfix"></div>
  </div>
  <footer id="footer" class="inner"><div class="alignleft">
  
  &copy; 2015 Chao Huang
  
</div>
<div class="clearfix"></div></footer>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>


<script type="text/javascript">
var disqus_shortname = 'realguess';

(function(){
  var dsq = document.createElement('script');
  dsq.type = 'text/javascript';
  dsq.async = true;
  dsq.src = '//' + disqus_shortname + '.disqus.com/count.js';
  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
}());
</script>



<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>

</body>
</html>